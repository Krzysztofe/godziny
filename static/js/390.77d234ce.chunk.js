"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[390],{380:function(n,e,t){var r=t(184);e.Z=function(){return(0,r.jsx)("div",{className:"border d-md-none"})}},6579:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(7064),s=t(5048),i=t(3360),a=t(184),o=function(n){return(0,a.jsx)(i.Z,{id:"noButton",className:"_radius bg-primary border-0 px-5 ms-4",onClick:n.action,children:"Ok"})},c=function(n){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{id:"noButton",className:"_radius bg-dark border-0 px-4 px-sm-5",children:"Nie"}),(0,a.jsx)(i.Z,{onClick:n.action,className:"_radius bg-primary border-0 px-4 px-sm-5 ms-4",children:"Tak"})]})},u=(0,t(2791).memo)((function(n){var e=(0,s.I0)();return n.isPrinted?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{id:"opacityContainer",className:"fixed-top _d-center _alert",onClick:function(t){var s;["opacityContainer","noButton"].includes(null===(s=t.target)||void 0===s?void 0:s.id)&&(null!==n&&void 0!==n&&n.setIsPrinted&&(null===n||void 0===n||n.setIsPrinted(!1)),e((0,r.VG)("")))},children:(0,a.jsxs)("div",{className:"p-5 bg-white _radius text-center fs-2 fw-medium _anim-dropDown",children:[n.header,(0,a.jsx)("div",{className:"_w-fitContent m-auto mt-4",children:n.header.includes("Usun\u0105\u0107")?(0,a.jsx)(c,{action:n.action}):(0,a.jsx)(o,{action:n.action})})]})})}):null}))},6094:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(3360),s=t(805),i=t(2791),a=t(184),o=(0,i.memo)((function(n){var e=n.text?(0,a.jsx)("div",{children:n.text}):(0,a.jsx)("div",{children:"Zapisz"}),t=(0,s.Z)(null===n||void 0===n?void 0:n.isLoading,e).btnContent;return(0,a.jsxs)(r.Z,{type:"submit",variant:"primary",disabled:null===n||void 0===n?void 0:n.isLoading,className:"_d-center w-50 p-0 py-1 mt-2 ms-auto _radius  _fw-semiBold _fs-primary _buttonForm position-relative ".concat(n.styles),children:[(0,a.jsx)("div",{className:"invisible",children:"Z"}),(0,a.jsx)("div",{className:"_buttonForm__content _d-center",children:t})]})}))},8762:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(6856),s=t(184),i=function(n){return(0,s.jsx)(r.x3N,{className:"fs-1 _fw-light _collapseArrow h-100 ".concat(n.isOpen?"_collapseArrow--rotate":"")})}},9871:function(n,e,t){var r=t(7425),s=t(184);e.Z=function(){return(0,s.jsx)(r.GnT,{className:"text-light-emphasis  fs-2 ms-auto"})}},4954:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(9439),s=t(2791),i=t(7689),a=function(){var n=(0,i.s0)(),e=(0,s.useState)(61),t=(0,r.Z)(e,2),a=t[0],o=t[1],c=0,u=function(){c=Date.now()+3e5};return(0,s.useEffect)((function(){var e=setInterval((function(){!function(){var e=Math.max(0,Math.floor((c-Date.now())/1e3));o(e),c<Date.now()&&(localStorage.removeItem("token"),n("/"))}()}),1e3);return function(){return clearInterval(e)}}),[]),(0,s.useEffect)((function(){u();var n=["mousemove","keypress","click","scroll"];return n.map((function(n){return document.addEventListener(n,u)})),function(){n.map((function(n){return document.addEventListener(n,u)}))}}),[]),{secondsRemaining:a}},o=t(184),c=function(){var n=a().secondsRemaining;return n+1>60?null:(0,o.jsx)("div",{className:"fixed-top _d-center p-5 _autoLogout",children:(0,o.jsxs)("div",{className:"p-4 bg-white text-center rounded-1 _fs-primary fw-semiBold _anim-dropDown",children:["Wylogowanie nast\u0105pi za",(0,o.jsxs)("div",{className:"d-flex mx-auto _w-fitContent",children:[n+1," ",(0,o.jsx)("div",{children:"\xa0s."})]})]})})},u=function(n){return(0,o.jsxs)("main",{className:"d-flex m-0  bg-secondary _indexContainer ",children:[(0,o.jsx)("aside",{className:"_indexContainer__aside"}),(0,o.jsxs)("div",{className:"_indexContainer__rightSide bg-secondary",children:[(0,o.jsx)(c,{}),n.children]})]})}},5212:function(n,e,t){t.d(e,{Z:function(){return s}});var r=t(184),s=function(n){return(0,r.jsx)("div",{className:"text-danger d-block mt-0 fs-5 ps-2 _inputError",children:n.touched[n.value]&&n.errors[n.value]&&n.errors[n.value]})}},3961:function(n,e,t){t.d(e,{n:function(){return d},Z:function(){return m}});var r=t(5705),s=t(2936),i=t(5212),a=t(9439),o=t(2791),c=t(184),u=function(){var n=(0,o.useState)(!0),e=(0,a.Z)(n,2),t=e[0],r=e[1],s=(0,o.useContext)(d).labelCover;return t?(0,c.jsx)("div",{onClick:function(){r(!1)},className:"_inputsCover w-100 p-2  bg-secondary-light _fs-primary text-light-emphasis  _radius border",children:s}):null},l=function(){var n=(0,o.useContext)(d).value;return(0,c.jsx)(s.Z.Label,{htmlFor:n,className:"position-absolute w-100",children:(0,c.jsx)(u,{})})},d=(0,o.createContext)({}),m=function(n){var e=(0,r.u6)(),t=e.values,a=e.handleBlur,o=e.setFieldValue,u=e.errors,m=e.touched;return(0,c.jsx)(c.Fragment,{children:n.inputsData.map((function(n){var e=n.value,r=n.labelCover,x=n.type,v=n.isErrorPrint,f=n.min,h=n.max,p=n.placeholder,j=n.styles;return(0,c.jsxs)(s.Z.Group,{className:" mt-2 position-relative",children:[(0,c.jsx)(d.Provider,{value:{value:e,labelCover:r},children:r&&(0,c.jsx)(l,{})}),(0,c.jsx)(s.Z.Control,{id:e,type:x,name:e,value:t[e],onChange:function(n){return o(e,n.target.value)},onBlur:a,autoComplete:"new-password",min:f,max:h,placeholder:p,size:"sm",className:"text-light-emphasis bg-secondary-light _radius w-100 _cursor-pointer _fs-primary\n                   ".concat("color"===x?"_inputsColor p-0":"py-2"," ").concat(j,"\n                    ").concat("userName"===e&&"text-capitalize","\n                ")}),v&&(0,c.jsx)(i.Z,{value:e,errors:u,touched:m})]},e)}))})}},7305:function(n,e,t){var r=t(4418),s=t(9932),i=t(184);e.Z=function(n){return(0,i.jsx)(r.Z.Item,{className:"".concat(s.l," ").concat(n.styles," text-danger"),children:"Brak danych"})}},9932:function(n,e,t){t.d(e,{l:function(){return r}});var r="p-0 mb-3 ps-2 pe-0 py-2 _fs-primary _radius"},4256:function(n,e,t){var r=t(184);e.Z=function(n){return(0,r.jsx)(r.Fragment,{children:n.styles((0,r.jsx)("div",{className:"text-danger fs-1 text-center",children:"B\u0142\u0105d. Od\u015bwie\u017c stron\u0119"}))})}},3464:function(n,e,t){var r=t(4849),s=t(184);e.Z=function(n){return(0,s.jsx)(s.Fragment,{children:n.styles((0,s.jsx)(r.Z,{animation:"border",variant:"primary",className:"fs-5",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}))})}},7359:function(n,e,t){var r=t(9439),s=t(2791),i=t(6579),a=t(184);e.Z=function(n,e){var t=(0,s.useState)(!1),o=(0,r.Z)(t,2),c=o[0],u=o[1];return{handleAlert:function(){u(!0)},alert:(0,a.jsx)(i.Z,{action:n,isPrinted:c,setIsPrinted:u,header:e})}}},805:function(n,e,t){var r=t(4849),s=t(184);e.Z=function(n,e){var t=e;return n&&(t=(0,s.jsx)(r.Z,{animation:"border",size:"sm",variant:"primary",className:"text-dark",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:t}}},3390:function(n,e,t){t.r(e),t.d(e,{default:function(){return an}});var r=t(5048),s=t(4954),i=t(4256),a=t(3464),o=t(6021),c=t(2050),u=t(380),l=t(4418),d=t(7305),m=t(184),x=function(n){var e,t=!n.listContent||0===(null===(e=n.listContent)||void 0===e?void 0:e.length);return(0,m.jsxs)(l.Z,{children:[t&&(0,m.jsx)(d.Z,{}),n.children]})},v=t(3360),f=t(8762),h=t(3920),p=t(805),j=t(7359),g=function(n){var e=(0,r.v9)((function(n){return n.listMonths})).listMonths;return{monthDate:e&&e[n]}},b=t(4165),Z=t(5861),_=t(9439),y=t(2791),N=t(8755),C=t(7615),w=function(n){var e=(0,r.I0)(),t=(0,C.bw)(),s=(0,_.Z)(t,2),i=s[0],a=s[1],o=function(){var e=(0,Z.Z)((0,b.Z)().mark((function e(){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){e((0,N.oI)(a.isError))}),[a.isError]),{deleteMonthAsync:o,success:a}},k=t(9871),H=function(){var n=(0,y.useContext)(X),e=n.monthIdx,t=n.id,s=w(t),i=s.deleteMonthAsync,a=s.success,o=(0,p.Z)(a.isLoading,(0,m.jsx)(k.Z,{})).btnContent,c=g(e).monthDate,u=(0,r.v9)((function(n){return n.listMonths})).listMonths,l=(0,j.Z)(i,"Usun\u0105\u0107 miesi\u0105c?"),d=l.handleAlert,x=l.alert,f=u&&c===u[e];return(0,m.jsxs)(m.Fragment,{children:[x,(0,m.jsx)(v.Z,{disabled:a.isLoading,onClick:d,className:"py-0 _d-center ms-auto bg-transparent border-0",children:f?o:(0,m.jsx)(k.Z,{})})]})},L=t(1087),I=t(828),F=function(){return(0,m.jsx)(I.Fjg,{className:"text-light-emphasis  me-1"})},M=function(){var n=(0,y.useContext)(X),e=n.monthLabel,t=n.year,r=n.month,s=r<10?"0"+r:r;return(0,m.jsx)("div",{className:"_monthTitle _fs-primary",children:(0,m.jsxs)(L.rU,{to:"/".concat(t,"-").concat(s),className:"text-decoration-none _fw-regular text-dark _align-center",children:[(0,m.jsx)(F,{}),(0,m.jsx)("div",{className:"_text-noWrap",children:e})]})})},z=t(211),E=t(1878),S=function(n,e){var t=(0,r.I0)(),s=(0,C._r)({year:null!==n&&void 0!==n?n:"",month:null!==e&&void 0!==e?e:""}),i=s.data,a=s.isLoading,o=s.error;(0,y.useEffect)((function(){t((0,E.PA)(i)),t((0,E.le)(o)),t((0,E.rr)(a))}),[i,o,a,t])},B=t(5705),P=t(6094),A=t(2936),D=function(n){var e=(0,B.u6)(),t=e.values,r=e.handleBlur,s=e.setFieldValue,i=t.allHours/3.2,a="linear-gradient(to right,  rgb(110, 110, 110)".concat(i,"%, rgb(239, 239, 239) ").concat(i,"%)");return(0,m.jsx)(m.Fragment,{children:n.inputsValues.map((function(n){return(0,m.jsx)(A.Z.Group,{className:"mt-2 d-flex align-items-center w-100",children:(0,m.jsx)(A.Z.Range,{name:n,min:0,max:320,value:t[n],onChange:function(e){return s(n,e.target.value)},onBlur:r,className:"form-range _inputsRange medium position-relative",style:{background:a}})},n)}))})},V=function(){var n=(0,B.u6)().values,e=(0,r.v9)((function(n){return n.calcHours})).calcHours,t="";return e&&(null===e||void 0===e?void 0:e.submittedHours)+(null===e||void 0===e?void 0:e.acceptedHours)>+(null===n||void 0===n?void 0:n.allHours)&&(t="Min. ".concat((null===e||void 0===e?void 0:e.submittedHours)+(null===e||void 0===e?void 0:e.acceptedHours)," h")),(0,m.jsx)("div",{className:"text-danger fs-5",children:t})},U=t(3961),G=[{value:"allHours",type:"number",isErrorPrint:!1,styles:"ps-1 pt-0 pb-0 pl-0 fs-4 mt-0 _fw-semiBold"}],T=function(){var n=(0,r.v9)((function(n){return n.calcHours})).calcHours;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"_d-between align-items-center fs-4 mb-3 position-relative",children:[(0,m.jsx)("div",{className:"",children:"0 h "}),(0,m.jsxs)("div",{className:"_formHoursTop__summary",children:["Zapisane: ",null===n||void 0===n?void 0:n.allHours," h"]}),(0,m.jsxs)("div",{className:"d-flex align-items-center ms-sm-4 _formHoursTop__input",children:[(0,m.jsx)(U.Z,{inputsData:G})," \xa0",(0,m.jsx)("div",{className:"align-self-center mt-2",children:"h"})]}),(0,m.jsx)("div",{children:"320 h"})]})})},Y=function(){var n=(0,C.NH)(),e=(0,_.Z)(n,2),t=e[0],s=e[1],i=(0,r.v9)((function(n){return n.calcHours})).calcHours,a=(0,y.useContext)(X).id,o=function(){var n=(0,Z.Z)((0,b.Z)().mark((function n(e){var r,s,o;return(0,b.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i){n.next=2;break}return n.abrupt("return");case 2:if(r=i.acceptedHours,s=i.submittedHours,!i){n.next=6;break}if(!(s+r>+(null===e||void 0===e?void 0:e.allHours))){n.next=6;break}return n.abrupt("return");case 6:return o=0===i.submittedHours&&0===i.acceptedHours?e.allHours:e.allHours-i.submittedHours-i.acceptedHours,n.next=9,t({id:a,body:{allHours:e.allHours,currentHours:o}});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{initialValues:{allHours:0},onSubmit:o,success:s}},O=function(){var n=Y(),e=n.initialValues,t=n.onSubmit,r=n.success;return(0,m.jsx)(B.J9,{initialValues:e,onSubmit:t,children:(0,m.jsxs)(B.l0,{className:"py-2 pe-2",children:[(0,m.jsx)(T,{}),(0,m.jsx)(D,{inputsValues:["allHours"]}),(0,m.jsxs)("div",{className:"_d-between align-items-center mt-2 ",children:[(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsx)(V,{})}),(0,m.jsx)(P.Z,{isLoading:r.isLoading})]})]})})},R=function(n){return(0,m.jsx)("div",{className:"_d-center fs-6 _requestContainer",children:n})},W=function(){var n=(0,y.useContext)(X),e=n.year,t=n.month;S(e.toString(),t.toString());var s,o=(0,r.v9)((function(n){return n.calcHours})),c=o.calcHoursIsLoading,u=o.calcHoursError;return s=c?(0,m.jsx)(a.Z,{styles:R}):u?(0,m.jsx)(i.Z,{styles:R}):(0,m.jsx)(O,{}),(0,m.jsxs)(m.Fragment,{children:[" ",s," "]})},K=function(){var n=(0,r.v9)((function(n){return n.listMonths})).openCollapseIndex,e=(0,y.useContext)(X).monthIdx===n;return(0,m.jsx)(z.Z,{in:e,children:(0,m.jsx)("div",{className:"pe-1",children:e?(0,m.jsx)(W,{}):(0,m.jsx)("div",{style:{height:"88px"}})})})},q=function(){var n=(0,r.I0)(),e=(0,r.v9)((function(n){return n.listMonths})).openCollapseIndex,t=(0,y.useContext)(X).monthIdx,s=t===e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)(M,{}),(0,m.jsxs)(v.Z,{onClick:function(){!function(e,t){n((0,h.fY)(t?null:e))}(t,s)},"aria-expanded":s,"aria-controls":"example-collapse-text",size:"sm",className:"_radius _text-noWrap _fs-small border-0  ps-2 pe-4 position-relative p-1",children:["Zapisz godziny",(0,m.jsx)(f.Z,{isOpen:s})]}),(0,m.jsx)(H,{})]}),(0,m.jsx)(K,{})]})},J=t(9932),Q=["","Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],X=(0,y.createContext)({}),$=function(){var n=(0,C.MK)().data,e=null===n||void 0===n?void 0:n.map((function(n){var e=n._id,t=n.year,r=n.month,s=parseInt(r,10);return{_id:e,monthLabel:"".concat(Q[s]," ").concat(t),year:t,month:s}}));return(0,m.jsx)(m.Fragment,{children:null===e||void 0===e?void 0:e.map((function(n,e){return(0,m.jsx)(l.Z.Item,{className:J.l,children:(0,m.jsx)(X.Provider,{value:{monthIdx:e,monthLabel:n.monthLabel,year:n.year,month:n.month,id:n._id},children:(0,m.jsx)(q,{})})},n._id)}))})},nn=function(n){var e=(0,o.xY)().data,t=(0,o.I1)(),r=(0,_.Z)(t,2),s=r[0],i=r[1],a=function(){var t=(0,Z.Z)((0,b.Z)().mark((function t(){var r;return(0,b.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return");case 2:if(!(r=e.find((function(e){return e.userName===n})))){t.next=6;break}return t.next=6,s(r._id);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{deleteUserAsync:a,success:i}},en=function(n){var e=(0,y.useState)(""),t=(0,_.Z)(e,2),r=t[0],s=t[1],i=nn(r),a=i.deleteUserAsync,o=i.success,c=(0,j.Z)(a,"Usun\u0105\u0107 u\u017cytkownika ?"),u=c.alert,l=c.handleAlert,d=(0,p.Z)(o.isLoading,(0,m.jsx)(k.Z,{})).btnContent,x=r===n.user.userName;return(0,m.jsxs)(m.Fragment,{children:[u,(0,m.jsx)(v.Z,{onClick:function(){var e,t;t=null===(e=n.user)||void 0===e?void 0:e.userName,s(t),l()},disabled:o.isLoading,className:"py-0 _d-center ms-auto bg-transparent border-0",children:x?d:(0,m.jsx)(k.Z,{})})]})},tn=function(){var n=(0,o.xY)().data;return(0,m.jsx)(m.Fragment,{children:null===n||void 0===n?void 0:n.map((function(n){return(0,m.jsxs)(l.Z.Item,{className:"".concat(J.l," d-flex _overflow-hidden position-relative"),style:{color:n.userColor},children:[(0,m.jsx)("div",{style:{width:"10px",height:"100%",backgroundColor:"".concat(n.userColor),position:"absolute",top:"0",left:"0"}}),(0,m.jsx)("div",{className:"ms-2",children:n.userName}),(0,m.jsx)(en,{user:n})]},n.userName)}))})},rn=(0,y.memo)((function(n){var e,t=n.listContent?null===(e=n.listContent)||void 0===e?void 0:e.length:0;return(0,m.jsxs)("h3",{className:"fs-2 py-4 text-center _fw-regular",children:[n.header,": ",t]})})),sn=function(){var n=(0,r.v9)((function(n){return n.listMonths})).listMonths,e=(0,C.MK)(),t=(e.data,e.isLoading,e.error,(0,o.xY)().data);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"_settingsContent pb-4",children:[(0,m.jsx)(u.Z,{}),(0,m.jsx)(rn,{header:"Zapisane miesi\u0105ce",listContent:n}),(0,m.jsx)(x,{listContent:n,children:(0,m.jsx)($,{})}),(0,m.jsx)(rn,{header:"Zapisani u\u017cytkownicy",listContent:t}),(0,m.jsx)(x,{listContent:t,children:(0,m.jsx)(tn,{})})]})})},an=function(){var n,e=(0,o.xY)(),t=e.error,u=e.isLoading,l=(0,r.v9)((function(n){return n.listMonths})).listMonthsError,d=(0,r.v9)((function(n){return n.monthPanel})).updateMonthError;return n=u?(0,m.jsx)(a.Z,{styles:c.u}):d||l||t?(0,m.jsx)(i.Z,{styles:c.u}):(0,m.jsx)(sn,{}),(0,m.jsx)(s.Z,{children:n})}},2050:function(n,e,t){t.d(e,{u:function(){return s}});var r=t(184),s=function(n){return(0,r.jsx)("div",{className:"fixed-top _d-center fs-4 _requestContainer",style:{width:"100vw",height:"100vh",zIndex:"1060",backgroundColor:"rgba(255,255,255,0.4)"},children:n})}}}]);
//# sourceMappingURL=390.77d234ce.chunk.js.map