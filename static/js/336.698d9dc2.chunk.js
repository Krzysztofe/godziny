"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[336],{380:function(n,e,r){var t=r(184);e.Z=function(){return(0,t.jsx)("div",{className:"border d-md-none"})}},1014:function(n,e,r){r.d(e,{Z:function(){return o}});var t=r(3360),s=r(7064),i=r(5048),a=r(184),o=function(n){var e=(0,i.I0)();return n.isPrinted?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{id:"opacityContainer",className:"fixed-top _d-center _alert",onClick:function(r){var t;["opacityContainer","noButton"].includes(null===(t=r.target)||void 0===t?void 0:t.id)&&(null!==n&&void 0!==n&&n.setIsPrinted&&(null===n||void 0===n||n.setIsPrinted(!1)),e((0,s.VG)("")))},children:(0,a.jsxs)("div",{className:"p-5 bg-white _radius text-center fs-2 fw-medium _anim-dropDown",children:[n.header,(0,a.jsx)("div",{className:"_w-fitContent m-auto mt-4",children:n.header.includes("Usun\u0105\u0107")?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Z,{id:"noButton",className:"_radius bg-dark border-0 px-4 px-sm-5",children:"Nie"}),(0,a.jsx)(t.Z,{onClick:n.action,className:"_radius bg-primary border-0 px-4 px-sm-5 ms-4 border ",children:"Tak"})]}):(0,a.jsx)(t.Z,{id:"noButton",className:"_radius _fs-3 bg-primary border-0 px-5 ms-4 border ",onClick:n.action,children:"Ok"})})]})})}):null}},6094:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(3360),s=r(1100),i=r(184),a=function(n){var e=(0,s.Z)(n.success,(0,i.jsx)("div",{children:"Zapisz"})).btnContent;return(0,i.jsxs)(t.Z,{type:"submit",variant:"primary",disabled:n.success.isLoading,className:"_d-center p-0 py-1 mt-2 ms-auto _radius w-50 _fw-semiBold _fs-primary _buttonForm position-relative",children:[(0,i.jsx)("div",{className:"invisible",children:"Z"}),(0,i.jsx)("div",{className:"_buttonForm__content",children:e})]})}},8762:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(6856),s=r(184),i=function(n){return(0,s.jsx)(t.x3N,{className:"fs-1 _fw-light _collapseArrow h-100 ".concat(n.isOpen?"_collapseArrow--rotate":"")})}},4954:function(n,e,r){r.d(e,{Z:function(){return u}});var t=r(9439),s=r(2791),i=r(4604),a=function(){var n=(0,s.useState)(61),e=(0,t.Z)(n,2),r=e[0],a=e[1],o=0,l=function(){o=Date.now()+3e5};return(0,s.useEffect)((function(){var n=setInterval((function(){!function(){var n=Math.max(0,Math.floor((o-Date.now())/1e3));a(n),o<Date.now()&&i.I8.signOut()}()}),1e3);return function(){return clearInterval(n)}}),[]),(0,s.useEffect)((function(){l();var n=["mousemove","keypress","click","scroll"];return n.map((function(n){return document.addEventListener(n,l)})),function(){n.map((function(n){return document.addEventListener(n,l)}))}}),[]),{secondsRemaining:r}},o=r(184),l=function(){var n=a().secondsRemaining;return(0,o.jsx)(o.Fragment,{children:n+1<=60&&(0,o.jsx)("div",{className:"fixed-top _d-center p-5 _autoLogout",children:(0,o.jsxs)("div",{className:"p-5 bg-white rounded-1 _fs-3 fw-medium _anim-dropDown",children:["Wylogowanie nast\u0105pi za",(0,o.jsxs)("div",{className:"d-flex mx-auto _w-fitContent",children:[n+1," ",(0,o.jsx)("div",{children:"\xa0s."})]})]})})})},u=function(n){return(0,o.jsxs)("main",{className:"d-flex m-0 bg-secondary _indexContainer ",children:[(0,o.jsx)("aside",{className:"_indexContainer__aside"}),(0,o.jsxs)("div",{className:"_indexContainer__rightSide",children:[(0,o.jsx)(l,{}),n.children]})]})}},5212:function(n,e,r){r.d(e,{Z:function(){return s}});var t=r(184),s=function(n){return(0,t.jsx)("div",{className:"text-danger d-block mt-0 fs-5 _inputError",children:n.touched[n.value]&&n.errors[n.value]&&n.errors[n.value]})}},3961:function(n,e,r){r.d(e,{Z:function(){return d}});var t=r(5705),s=r(2936),i=r(5212),a=r(9439),o=r(2791),l=r(184),u=function(n){var e=(0,o.useState)(!0),r=(0,a.Z)(e,2),t=r[0],s=r[1];return(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsx)("div",{onClick:function(){s(!1)},className:"_inputsCover w-100 ps-2 d-flex align-items-center bg-secondary-light _fs-primary text-light-emphasis _radius border",children:n.text})})},c=function(n){return void 0===n.labelCover?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(s.Z.Label,{htmlFor:n.value,className:"position-absolute w-100",children:(0,l.jsx)(u,{text:n.labelCover})})},d=function(n){var e=(0,t.u6)(),r=e.values,a=e.handleBlur,o=e.setFieldValue,u=e.errors,d=e.touched;return(0,l.jsx)(l.Fragment,{children:n.inputsData.map((function(n){var e=n.value,t=n.labelCover,m=n.type,v=n.isErrorPrint,x=n.min,f=n.max,h=n.placeholder,p=n.styles;return(0,l.jsxs)(s.Z.Group,{className:" mt-2 position-relative",children:[(0,l.jsx)(c,{value:e,labelCover:t}),(0,l.jsx)(s.Z.Control,{id:e,type:m,name:e,value:r[e],onChange:function(n){return o(e,n.target.value)},onBlur:a,min:x,max:f,placeholder:h,size:"sm",className:" text-light-emphasis bg-secondary-light _radius shadow-sm w-100 text-capitalize _cursor-pointer _fs-primary\n                   ".concat("color"===m?"_inputsColor p-0":"py-2"," ").concat(p,"\n                ")}),v&&(0,l.jsx)(i.Z,{value:e,errors:u,touched:d})]},e)}))})}},4256:function(n,e,r){var t=r(184);e.Z=function(n){return(0,t.jsx)(t.Fragment,{children:n.styles((0,t.jsx)("div",{className:"text-danger fs-1 text-center",children:"B\u0142\u0105d. Od\u015bwie\u017c stron\u0119"}))})}},3464:function(n,e,r){var t=r(4849),s=r(184);e.Z=function(n){return(0,s.jsx)(s.Fragment,{children:n.styles((0,s.jsx)(t.Z,{animation:"border",variant:"primary",className:"fs-5",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}))})}},7359:function(n,e,r){var t=r(9439),s=r(2791),i=r(1014),a=r(184);e.Z=function(n,e){var r=(0,s.useState)(!1),o=(0,t.Z)(r,2),l=o[0],u=o[1];return{handleAlert:function(){u(!0)},alert:(0,a.jsx)(i.Z,{action:n,isPrinted:l,setIsPrinted:u,header:e})}}},1100:function(n,e,r){var t=r(4849),s=r(184);e.Z=function(n,e){var r=e;return n.isLoading&&(r=(0,s.jsx)(t.Z,{animation:"border",size:"sm",variant:"primary",className:"text-dark",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:r}}},2218:function(n,e,r){var t=r(3433),s=r(5048);e.Z=function(){var n,e=(0,s.v9)((function(n){return n.listMonths})).listMonths;return{databaseMonthsDatesToString:e&&(null===(n=(0,t.Z)(e))||void 0===n?void 0:n.map((function(n){var e=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(e)})))}}},336:function(n,e,r){r.r(e),r.d(e,{default:function(){return rn}});var t=r(5048),s=r(4954),i=r(4256),a=r(3464),o=r(2050),l=r(4418),u="shadow-sm p-0 mb-3 ps-2 pe-0 py-2 rounded-1 _fs-primary _radius",c=r(184),d=function(n){return n.noData?(0,c.jsx)("div",{children:(0,c.jsx)(l.Z.Item,{className:"".concat(u," text-warning"),children:"Brak danych"})}):null},m=function(n){var e,r,t=!n.listContent||0===(null===(e=n.listContent)||void 0===e?void 0:e.length);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h3",{className:"fs-2 py-4 text-center _fw-regular",children:[n.header,": ",null===(r=n.listContent)||void 0===r?void 0:r.length]}),(0,c.jsxs)(l.Z,{className:"border-0 p-0",children:[(0,c.jsx)(d,{noData:t}),n.children]})]})},v=r(2218),x=r(3360),f=r(211),h=r(7425),p=r(1100),j=r(7359),g=function(n){var e=(0,t.v9)((function(n){return n.listMonths})).listMonths;return{monthDate:e&&e[n]}},Z=r(4165),b=r(5861),_=r(9439),N=r(3920),y=r(7615),w=r(2791),C=r(8755),k=function(n){var e=(0,t.I0)(),r=g(n).monthDate,s=(0,t.v9)((function(n){return n.listMonths})).listMonths,i=(0,y.bw)(),a=(0,_.Z)(i,2),o=a[0],l=a[1],u=function(){var n=(0,b.Z)((0,Z.Z)().mark((function n(){var t,i;return(0,Z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r||null===s||void 0===s||!s.includes(r)){n.next=6;break}return e((0,N.fY)(-1)),t=r.slice(0,4),i=r.slice(-2),n.next=6,o({year:t,month:i});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,w.useEffect)((function(){e((0,C.oI)(l.isError))}),[l.isError]),{deleteMonthAsync:u,success:l}},H=function(n){var e=k(n.idx),r=e.deleteMonthAsync,s=e.success,i=(0,p.Z)(s,(0,c.jsx)(h.GnT,{className:"text-light-emphasis fs-2 ms-auto"})).btnContent,a=g(n.idx).monthDate,o=(0,t.v9)((function(n){return n.listMonths})).listMonths,l=(0,j.Z)(r,"Usun\u0105\u0107 miesi\u0105c?"),u=l.handleAlert,d=l.alert,m=o&&a===o[n.idx],v=(0,c.jsx)(h.GnT,{className:"text-light-emphasis fs-2 ms-auto"});return(0,c.jsxs)(c.Fragment,{children:[d,(0,c.jsx)(x.Z,{disabled:s.isLoading,onClick:u,className:"py-0 _d-center ms-auto bg-transparent border-0",children:m?i:v})]})},F=r(828),M=r(1087),I=r(9622),D=function(n){var e=(0,t.v9)((function(n){return n.listMonths})).listMonths,r=(0,v.Z)().databaseMonthsDatesToString,s=r&&(0,I.f)(r[n.idx]);return(0,c.jsx)("div",{className:"_monthTitle _fs-primary",children:(0,c.jsxs)(M.rU,{to:"/".concat(null===e||void 0===e?void 0:e[n.idx]),className:"text-decoration-none _fw-regular text-dark _align-center",children:[(0,c.jsx)(F.Fjg,{className:" text-light-emphasis me-1"}),(0,c.jsx)("div",{className:"_text-noWrap",children:s})]})})},U=r(8762),L=r(1175),E=function(n,e){var r=(0,t.I0)(),s=(0,y._r)({year:null!==n&&void 0!==n?n:"",month:null!==e&&void 0!==e?e:""}),i=s.data,a=s.isLoading,o=s.error;(0,w.useEffect)((function(){r((0,L.PA)(i)),r((0,L.le)(o)),r((0,L.rr)(a))}),[i,o,a,r])},T=r(5705),B=r(6094),z=r(2936),A=function(n){var e=(0,T.u6)(),r=e.values,t=e.handleBlur,s=e.setFieldValue,i=r.allHours/3.2,a="linear-gradient(to right,  rgb(110, 110, 110)".concat(i,"%, rgb(239, 239, 239) ").concat(i,"%)");return(0,c.jsx)(c.Fragment,{children:n.inputsValues.map((function(n){return(0,c.jsx)(z.Z.Group,{className:"mt-2 d-flex align-items-center w-100",children:(0,c.jsx)(z.Z.Range,{name:n,min:0,max:320,value:r[n],onChange:function(e){return s(n,e.target.value)},onBlur:t,className:"form-range _inputsRange medium position-relative",style:{background:a}})},n)}))})},S=function(n){var e=(0,T.u6)().values,r=(0,t.v9)((function(n){return n.calcHours})).calcHours,s="";return r&&(null===r||void 0===r?void 0:r.submittedHours)+(null===r||void 0===r?void 0:r.acceptedHours)>+(null===e||void 0===e?void 0:e.allHours)&&(s="Min. ".concat((null===r||void 0===r?void 0:r.submittedHours)+(null===r||void 0===r?void 0:r.acceptedHours)," h")),(0,c.jsx)("div",{className:"text-danger fs-5",children:s})},P=r(3961),V=function(){var n=(0,t.v9)((function(n){return n.calcHours})).calcHours;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"_d-between align-items-center fs-4 mb-3 position-relative",children:[(0,c.jsx)("div",{className:"",children:"0 h "}),(0,c.jsxs)("div",{className:"_formHoursTop__summary",children:["Zapisane: ",null===n||void 0===n?void 0:n.allHours," h"]}),(0,c.jsxs)("div",{className:"d-flex align-items-center ms-sm-4 _formHoursTop__input",children:[(0,c.jsx)(P.Z,{inputsData:[{value:"allHours",type:"number",isErrorPrint:!1,styles:"ps-1 pt-0 pb-0 pl-0 fs-4 mt-0 _fw-semiBold"}]})," \xa0",(0,c.jsx)("div",{className:"align-self-center mt-2",children:"h"})]}),(0,c.jsx)("div",{children:"320 h"})]})})},G=r(1413),O=function(n,e){var r=(0,y.uZ)(),s=(0,_.Z)(r,2),i=s[0],a=s[1],o=(0,t.v9)((function(n){return n.calcHours})).calcHours,l=function(){var r=(0,b.Z)((0,Z.Z)().mark((function r(t){return(0,Z.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!o){r.next=3;break}if(!((null===o||void 0===o?void 0:o.submittedHours)+(null===o||void 0===o?void 0:o.acceptedHours)>+(null===t||void 0===t?void 0:t.allHours))){r.next=3;break}return r.abrupt("return");case 3:if(r.t0=o&&t.allHours&&n&&e,!r.t0){r.next=7;break}return r.next=7,i({year:n,month:e,calcHours:(0,G.Z)((0,G.Z)({},o),{},{allHours:+t.allHours,currentHours:+t.allHours-o.acceptedHours-o.submittedHours})});case 7:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}();return{initialValues:{allHours:0},onSubmit:l,success:a}},R=function(n){var e,r,t=g(n.idx).monthDate,s=null!==(e=null===t||void 0===t?void 0:t.slice(0,4))&&void 0!==e?e:"",i=null!==(r=null===t||void 0===t?void 0:t.slice(5))&&void 0!==r?r:"",a=O(s,i),o=a.initialValues,l=a.onSubmit,u=a.success;return(0,c.jsx)(T.J9,{initialValues:o,onSubmit:l,children:(0,c.jsxs)(T.l0,{className:"py-2 pe-2",children:[(0,c.jsx)(V,{}),(0,c.jsx)(A,{inputsValues:["allHours"]}),(0,c.jsxs)("div",{className:"_d-between align-items-center mt-2 ",children:[(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)(S,{})}),(0,c.jsx)(B.Z,{success:u})]})]})})},W=function(n){return(0,c.jsx)("div",{className:"_d-center fs-6 _requestContainer",children:n})},Y=function(n){var e,r,s=g(n.idx).monthDate,o=null!==(e=null===s||void 0===s?void 0:s.slice(0,4))&&void 0!==e?e:"",l=null!==(r=null===s||void 0===s?void 0:s.slice(5))&&void 0!==r?r:"";E(o,l);var u,d=(0,t.v9)((function(n){return n.calcHours})),m=d.calcHoursIsLoading,v=d.calcHoursError;return u=m?(0,c.jsx)(a.Z,{styles:W}):v?(0,c.jsx)(i.Z,{styles:W}):(0,c.jsx)(R,{idx:n.idx}),(0,c.jsxs)(c.Fragment,{children:[" ",u," "]})},q=function(n){var e=(0,t.I0)(),r=(0,t.v9)((function(n){return n.listMonths})).openCollapseIndex,s=n.idx===r;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"d-flex align-items-center",children:[(0,c.jsx)(D,{idx:n.idx}),(0,c.jsxs)(x.Z,{"aria-expanded":s,"aria-controls":"example-collapse-text",size:"sm",onClick:function(){var r;r=n.idx,e((0,N.fY)(r)),s&&e((0,N.fY)(-1))},className:"_radius _text-noWrap _fs-primary _fw-semiBold border-0 p-0 ps-1 pe-4 position-relative",children:["Zapisz godziny",(0,c.jsx)(U.Z,{isOpen:s})]}),(0,c.jsx)(H,{idx:n.idx})]}),(0,c.jsx)(f.Z,{in:s,children:(0,c.jsx)("div",{className:"pe-1",children:s?(0,c.jsx)(Y,{idx:n.idx}):(0,c.jsx)("div",{style:{height:"88px"}})})})]})},J=function(){var n=(0,v.Z)().databaseMonthsDatesToString;return(0,c.jsx)(c.Fragment,{children:null===n||void 0===n?void 0:n.map((function(n,e){return(0,c.jsx)(l.Z.Item,{className:u,children:(0,c.jsx)(q,{idx:e})},n)}))})},K=r(6021),Q=function(n){var e=(0,t.v9)((function(n){return n.listUsers})).listUsers,r=(0,K.I1)(),s=(0,_.Z)(r,2),i=s[0],a=s[1],o=function(){var r=(0,b.Z)((0,Z.Z)().mark((function r(){var t;return(0,Z.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=6;break}if(t=null===e||void 0===e?void 0:e.filter((function(e){return(null===e||void 0===e?void 0:e.userName)!==n})),r.t0=t,!r.t0){r.next=6;break}return r.next=6,i(t);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{deleteUserAsync:o,success:a}},X=function(n){var e=(0,w.useState)(""),r=(0,_.Z)(e,2),t=r[0],s=r[1],i=Q(t),a=i.deleteUserAsync,o=i.success,l=(0,p.Z)(o,(0,c.jsx)(h.GnT,{className:"text-light-emphasis fs-2  ms-auto"})).btnContent,u=(0,j.Z)(a,"Usun\u0105\u0107 u\u017cytkownika ?"),d=u.alert,m=u.handleAlert,v=t===n.user.userName,f=(0,c.jsx)(h.GnT,{className:"text-light-emphasis fs-2 ms-auto"});return(0,c.jsxs)(c.Fragment,{children:[d,(0,c.jsx)(x.Z,{onClick:function(){var e,r;r=null===(e=n.user)||void 0===e?void 0:e.userName,s(r),m()},disabled:o.isLoading,className:"py-0 _d-center ms-auto bg-transparent border-0",children:v?l:f})]})},$=function(){var n=(0,t.v9)((function(n){return n.listUsers})).listUsers;return(0,c.jsx)(c.Fragment,{children:null===n||void 0===n?void 0:n.map((function(n){return(0,c.jsxs)(l.Z.Item,{className:"".concat(u," d-flex"),style:{borderLeft:"8px solid ".concat(n.userColor),color:n.userColor},children:[(0,c.jsx)("div",{className:"ms-2",children:n.userName}),(0,c.jsx)(X,{user:n})]},n.userName)}))})},nn=r(380),en=function(){var n=(0,t.v9)((function(n){return n.listMonths})).listMonths,e=(0,t.v9)((function(n){return n.listUsers})).listUsers;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"_settingsContent pb-4",children:[(0,c.jsx)(nn.Z,{}),(0,c.jsx)(m,{header:"Zapisane miesi\u0105ce",listContent:n,children:(0,c.jsx)(J,{})}),(0,c.jsx)(m,{header:"Zapisani u\u017cytkownicy",listContent:e,children:(0,c.jsx)($,{})})]})})},rn=function(){var n,e=(0,t.v9)((function(n){return n.listUsers})),r=e.listUsersError,l=e.listUsersIsLoading,u=(0,t.v9)((function(n){return n.listMonths})).listMonthsError,d=(0,t.v9)((function(n){return n.monthPanel})).updateMonthError;return n=l?(0,c.jsx)(a.Z,{styles:o.u}):d||u||r?(0,c.jsx)(i.Z,{styles:o.u}):(0,c.jsx)(en,{}),(0,c.jsx)(s.Z,{children:n})}},9622:function(n,e,r){r.d(e,{f:function(){return t}});var t=function(n){return n.toLowerCase().split(" ").map((function(n){var e;return(null===n||void 0===n||null===(e=n.charAt(0))||void 0===e?void 0:e.toUpperCase())+n.slice(1)})).join(" ")}},2050:function(n,e,r){r.d(e,{u:function(){return s}});var t=r(184),s=function(n){return(0,t.jsx)("div",{className:"fixed-top _d-center fs-4 _requestContainer",style:{width:"100vw",height:"100vh",zIndex:"1060",backgroundColor:"rgba(255,255,255,0.4)"},children:n})}}}]);
//# sourceMappingURL=336.698d9dc2.chunk.js.map