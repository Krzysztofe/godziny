"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[441],{3786:function(n,e,t){var r=t(1419),i=t(184);e.Z=function(n){var e=(0,r.Z)().windowWidth;return(0,i.jsxs)("main",{className:"d-flex backgroundImage m-0",style:{height:"100dvh",overflow:"hidden"},children:[(0,i.jsx)("aside",{style:{width:e>=500?"30%":0,maxWidth:"250px",height:"100%"}}),(0,i.jsx)("div",{className:"d-flex ps-1 flex-fill",style:{width:e>=500?"70%":"100%"},children:n.children})]})}},1100:function(n,e,t){var r=t(1830),i=t.n(r),s=t(2791),o=t(4849),a=t(184);e.Z=function(n,e){(0,s.useEffect)((function(){if(n.isError){var e=n.error,t=e&&"status"in e&&e.status&&e.status;i().fire({text:"B\u0142\u0105d: ".concat(t||""),confirmButtonColor:"rgb(31, 180, 255)"})}}),[n.isError]);var t=e;return n.isLoading&&(t=(0,a.jsx)(o.Z,{animation:"border",size:"sm",variant:"secondary",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:t}}},2218:function(n,e,t){var r=t(3433),i=t(5048);e.Z=function(){var n,e=(0,i.v9)((function(n){return n.infoMonths})).infoMonths,t=e&&(null===(n=(0,r.Z)(e))||void 0===n?void 0:n.sort((function(n,e){return new Date(n).getTime()-new Date(e).getTime()}))),s=null===t||void 0===t?void 0:t.map((function(n){var e=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(e)}));return{sortedInfoMonths:t,databaseMonthsDatesToString:s}}},1419:function(n,e,t){var r=t(9439),i=t(2791);e.Z=function(){var n=(0,i.useState)(window.innerWidth),e=(0,r.Z)(n,2),t=e[0],s=e[1];return(0,i.useEffect)((function(){var n=function(){s(window.innerWidth)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),{windowWidth:t}}},4457:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var r=t(3786),i=t(4849),s=t(5048),o=t(3940),a=t(23),u=t(2218),c=t(4165),d=t(5861),l=t(9439),f=t(3360),h=t(7425),m=t(1830),x=t.n(m),v=t(1100),p=t(7615),w=t(2767),g=t(184),j=function(n){var e=(0,p.bw)(),t=(0,l.Z)(e,2),r=t[0],i=t[1],o=(0,p.kM)(),u=(0,l.Z)(o,2),m=u[0],j=(u[1],(0,s.v9)((function(n){return n.infoMonths})).infoMonths),Z=(0,v.Z)(i,(0,g.jsx)(h.GnT,{className:"text-danger fs-6 ms-auto"})).btnContent,y=function(){var e=(0,d.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x().fire((0,w.p)("Usun\u0105\u0107 miesi\u0105c?")).then(function(){var e=(0,d.Z)((0,c.Z)().mark((function e(t){var i,s,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=8;break}return i=n.monthDate.slice(0,4),s=n.monthDate.slice(-2),o=j.filter((function(n){return n!=="".concat(i,"-").concat(s)})),e.next=6,r({year:i,month:s});case 6:return e.next=8,m(o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(a.Z.Item,{className:"d-flex justify-content-between align-items-center shadow-sm p-0 mb-2 px-1 rounded",children:[" ",n.monthDateToString," ",(0,g.jsx)(f.Z,{onClick:y,disabled:i.isLoading,className:"d-flex justify-content-between align-items-center px-1 bg-white border-0 text-capitalize",children:Z})]})},Z=function(){var n=(0,u.Z)(),e=n.sortedInfoMonths,t=n.databaseMonthsDatesToString,r=(0,s.v9)((function(n){return n.infoMonths})).infoMonths;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:"h6",children:"Zapisane miesi\u0105ce"}),(0,g.jsxs)(a.Z,{className:"border-0 p-0",children:[!r&&(0,g.jsx)("p",{className:"py-1 px-2 text-warning",children:"Brak danych"}),null===t||void 0===t?void 0:t.reverse().map((function(n,t){return(0,g.jsx)(j,{monthDateToString:n,monthDate:e[t]},n)}))]})]})},y=t(6021),b=function(n){var e=(0,y.I1)(),t=(0,l.Z)(e,2),r=t[0],i=t[1],o=(0,v.Z)(i,(0,g.jsx)(h.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,u=(0,s.v9)((function(n){return n.users})).users,m=function(){var n=(0,d.Z)((0,c.Z)().mark((function n(e){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:x().fire((0,w.p)("Usun\u0105\u0107 u\u017cytkownika?")).then(function(){var n=(0,d.Z)((0,c.Z)().mark((function n(t){var i;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isConfirmed){n.next=4;break}return i=null===u||void 0===u?void 0:u.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e})),n.next=4,r(i);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsx)(a.Z.Item,{onClick:function(){return m(n.user.id)},className:"shadow-sm p-0 mb-2 ps-2 pe-0 rounded-1",style:{backgroundColor:n.user.userColor,overflow:"hidden"},children:(0,g.jsxs)(f.Z,{disabled:i.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 text-capitalize rounded-0 bg-white border-0",style:{color:n.user.userColor},children:[n.user.userName,o]})})},N=function(){var n=(0,s.v9)((function(n){return n.users})).users;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:"h6",children:"Zapisani u\u017cytkownicy"}),(0,g.jsxs)(a.Z,{className:"border-0 p-0",children:[!n&&(0,g.jsx)("p",{className:"py-1 px-2 text-warning",children:"Brak danych"}),null===n||void 0===n?void 0:n.map((function(n){return(0,g.jsx)(b,{user:n},n.id)}))]})]})},k=function(){return(0,g.jsx)("div",{className:"bg-white p-2 py-4 p-sm-4 w-100",style:{height:"100%",overflow:"hidden auto",outline:"4px solid white"},children:(0,g.jsxs)("div",{style:{maxWidth:"480px",width:"100%"},children:[(0,g.jsx)(Z,{}),(0,g.jsx)("div",{className:"border my-4"}),(0,g.jsx)(N,{})]})})},C=function(){var n,e=(0,s.v9)((function(n){return n.users})),t=e.usersError,r=e.usersIsLoading,a=(0,s.v9)((function(n){return n.infoMonths})),u=a.infoMonthsError,c=a.infoMonthsIsLoading;if(r||c)n=(0,o.a)((0,g.jsx)(i.Z,{animation:"border",variant:"secondary",children:(0,g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}));else if(t){if("status"in t){var d="status"in t&&t.status;n=(0,o.a)((0,g.jsx)("h3",{className:"text-danger mx-auto ",children:(0,g.jsxs)(g.Fragment,{children:[" B\u0142\u0105d: ",d," "]})}))}}else if(u){if("status"in u){var l="status"in u&&u.status;n=(0,o.a)((0,g.jsx)("h3",{className:"text-danger mx-auto ",children:(0,g.jsxs)(g.Fragment,{children:[" B\u0142\u0105d: ",l," "]})}))}}else n=(0,g.jsx)(k,{});return{requestState:n}},M=function(){var n=C().requestState;return(0,g.jsx)(r.Z,{children:n})}},2767:function(n,e,t){t.d(e,{Z:function(){return o},p:function(){return s}});var r=t(1830),i=t.n(r),s=function(n){return{title:n,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Tak",cancelButtonText:"Nie"}},o=function(n){i().fire({text:"B\u0142\u0105d ".concat(n),confirmButtonColor:"rgb(31, 180, 255)"})}},3940:function(n,e,t){t.d(e,{a:function(){return i}});var r=t(184),i=function(n){return(0,r.jsx)("div",{className:" d-flex justify-content-center align-items-center fs-3 text-warning text-center",style:{maxWidth:"1000px",width:"100%",height:"100%"},children:n})}},2391:function(n){var e=function(){};n.exports=e}}]);
//# sourceMappingURL=441.026c161f.chunk.js.map