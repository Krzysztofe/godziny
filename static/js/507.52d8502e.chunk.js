"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[507],{1100:function(n,e,t){var r=t(1830),a=t.n(r),i=t(2791),o=t(4849),s=t(184);e.Z=function(n,e){(0,i.useEffect)((function(){if(n.isError){var e=n.error,t=e&&"status"in e&&e.status&&e.status;a().fire({text:"B\u0142\u0105d: ".concat(t||""),confirmButtonColor:"rgb(31, 180, 255)"})}}),[n.isError]);var t=e;return n.isLoading&&(t=(0,s.jsx)(o.Z,{animation:"border",size:"sm",variant:"secondary",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:t}}},2218:function(n,e,t){var r=t(3433),a=t(5048);e.Z=function(){var n,e=(0,a.v9)((function(n){return n.infoMonths})).infoMonths,t=e&&(null===(n=(0,r.Z)(e))||void 0===n?void 0:n.sort((function(n,e){return new Date(n).getTime()-new Date(e).getTime()}))),i=null===t||void 0===t?void 0:t.map((function(n){var e=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(e)}));return{sortedInfoMonths:t,databaseMonthsDatesToString:i}}},6778:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var r,a=t(4849),i=t(9743),o=t(5048),s=t(23),u=t(2218),c=t(4165),l=t(5861),f=t(9439),d=t(1830),h=t.n(d),m=t(3360),v=t(7425),p=t(1100),x=t(2767),g=t(7615),b=t(184),y=function(n){var e=(0,g.bw)(),t=(0,f.Z)(e,2),r=t[0],a=t[1],i=(0,g.kM)(),u=(0,f.Z)(i,2),d=u[0],y=(u[1],(0,o.v9)((function(n){return n.infoMonths})).infoMonths),Z=(0,p.Z)(a,(0,b.jsx)(v.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,j=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h().fire((0,x.p)("Chcesz usun\u0105\u0107 miesi\u0105c?")).then(function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var a,i,o;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=8;break}return a=n.monthDate.slice(0,4),i=n.monthDate.slice(-2),o=y.filter((function(n){return n!=="".concat(a,"-").concat(i)})),e.next=6,r({year:a,month:i});case 6:return e.next=8,d(o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsx)(s.Z.Item,{onClick:j,className:"border-0 p-0 px-1 ",children:(0,b.jsxs)(m.Z,{disabled:a.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 bg-primary-subtle text-capitalize border-0 fs-5",children:[n.monthDateToString," ",Z]})})},Z=function(){var n=(0,u.Z)(),e=n.sortedInfoMonths,t=n.databaseMonthsDatesToString,r=(0,o.v9)((function(n){return n.infoMonths})).infoMonths;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"h4",style:{},children:"Usu\u0144 miesi\u0105c"}),(0,b.jsx)(s.Z,{className:"border-0 bg-primary-subtle p-0",children:r?null===t||void 0===t?void 0:t.map((function(n,t){return(0,b.jsx)(y,{monthDateToString:n,monthDate:e[t]},n)})):(0,b.jsx)("p",{className:"py-1 px-2 fs-4 text-warning",children:"Brak danych"})})]})},j=t(2677),k=t(3855),w=[{labelText:"Podaj imi\u0119",name:"userName",type:"text",placeholder:"Imi\u0119"},{labelText:"Podaj kolor",name:"userColor",type:"color",placeholder:""}],C=t(3433),N=t(1413),M=t(5705),T=t(6021),L=t(8007),B=function(){var n=(0,T.xY)().data,e=null===n||void 0===n?void 0:n.map((function(n){return n.userName})),t=null===n||void 0===n?void 0:n.map((function(n){return n.userColor}));return{validationSchema:L.Ry({userName:L.Z_().min(3,"Min. 3 litery").max(10,"Max. 10 liter").test("is-in-database","Imi\u0119 zaj\u0119te",(function(n){return void 0!==n&&!(null!==e&&void 0!==e&&e.includes(n))})).required("Imi\u0119 wymagane"),userColor:L.Z_().test("is-in-database","Kolor zaj\u0119ty",(function(n){return void 0!==n&&!(null!==t&&void 0!==t&&t.includes(n))}))})}},I=function(){var n=(0,T.Vx)(),e=(0,f.Z)(n,2),t=e[0],r=e[1],a=B().validationSchema,i=(0,T.xY)().data,o=i||[],s=(0,M.TA)({initialValues:{id:"",userName:"",userColor:"#e0cce1"},validationSchema:a,onSubmit:function(){var n=(0,l.Z)((0,c.Z)().mark((function n(e,r){var a,s;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r.resetForm,s=(0,N.Z)((0,N.Z)({},e),{},{id:crypto.randomUUID()}),!i){n.next=7;break}return n.next=5,t([].concat((0,C.Z)(o),[s]));case 5:n.next=9;break;case 7:return n.next=9,t([s]);case 9:a();case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()});return{formik:s,success:r}},S=t(7462);!function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"}(r||(r={}));var D=function(n){return n};var P="beforeunload",E="popstate";function z(n){n.preventDefault(),n.returnValue=""}function F(){var n=[];return{get length(){return n.length},push:function(e){return n.push(e),function(){n=n.filter((function(n){return n!==e}))}},call:function(e){n.forEach((function(n){return n&&n(e)}))}}}function O(){return Math.random().toString(36).substr(2,8)}function R(n){var e=n.pathname,t=void 0===e?"/":e,r=n.search,a=void 0===r?"":r,i=n.hash,o=void 0===i?"":i;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function U(n){var e={};if(n){var t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));var r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}var A=function(){var n=I(),e=n.formik,t=n.success,a=(0,p.Z)(t,"Zapisz u\u017cytkowanika").btnContent,o=function(n){void 0===n&&(n={});var e=n.window,t=void 0===e?document.defaultView:e,a=t.history;function i(){var n=t.location,e=n.pathname,r=n.search,i=n.hash,o=a.state||{};return[o.idx,D({pathname:e,search:r,hash:i,state:o.usr||null,key:o.key||"default"})]}var o=null;t.addEventListener(E,(function(){if(o)d.call(o),o=null;else{var n=r.Pop,e=i(),t=e[0],a=e[1];if(d.length){if(null!=t){var s=c-t;s&&(o={action:n,location:a,retry:function(){g(-1*s)}},g(s))}}else x(n)}}));var s=r.Pop,u=i(),c=u[0],l=u[1],f=F(),d=F();function h(n){return"string"===typeof n?n:R(n)}function m(n,e){return void 0===e&&(e=null),D((0,S.Z)({pathname:l.pathname,hash:"",search:""},"string"===typeof n?U(n):n,{state:e,key:O()}))}function v(n,e){return[{usr:n.state,key:n.key,idx:e},h(n)]}function p(n,e,t){return!d.length||(d.call({action:n,location:e,retry:t}),!1)}function x(n){s=n;var e=i();c=e[0],l=e[1],f.call({action:s,location:l})}function g(n){a.go(n)}null==c&&(c=0,a.replaceState((0,S.Z)({},a.state,{idx:c}),""));var b={get action(){return s},get location(){return l},createHref:h,push:function n(e,i){var o=r.Push,s=m(e,i);if(p(o,s,(function(){n(e,i)}))){var u=v(s,c+1),l=u[0],f=u[1];try{a.pushState(l,"",f)}catch(d){t.location.assign(f)}x(o)}},replace:function n(e,t){var i=r.Replace,o=m(e,t);if(p(i,o,(function(){n(e,t)}))){var s=v(o,c),u=s[0],l=s[1];a.replaceState(u,"",l),x(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(n){return f.push(n)},block:function(n){var e=d.push(n);return 1===d.length&&t.addEventListener(P,z),function(){e(),d.length||t.removeEventListener(P,z)}}};return b}();return(0,b.jsxs)(k.Z,{onSubmit:e.handleSubmit,children:[(0,b.jsx)("button",{onClick:function(){o.back()},children:"Wr\xf3\u0107"}),(0,b.jsx)(i.Z,{children:w.map((function(n,t){var r=n.labelText,a=n.name,i=n.type,o=n.placeholder;return(0,b.jsx)(j.Z,{className:"".concat(0===t?"col-8":"col-4"),children:(0,b.jsxs)(k.Z.Group,{className:"",children:[(0,b.jsx)(k.Z.Label,{htmlFor:a,className:"fw-medium",children:r}),(0,b.jsx)(k.Z.Control,{id:a,type:i,name:a,value:e.values[a],onChange:e.handleChange,onBlur:e.handleBlur,placeholder:o}),(0,b.jsx)(k.Z.Text,{className:"text-danger d-block mt-0 mb-4 fs-8",style:{height:"0.7rem"},children:e.touched[a]&&e.errors[a]&&e.errors[a]})]})},a)}))}),(0,b.jsx)(m.Z,{disabled:t.isLoading,type:"submit",className:"col-8 col-sm-7  bg-info text-white fw-medium",children:a})]})},V=function(n){var e=(0,T.I1)(),t=(0,f.Z)(e,2),r=t[0],a=t[1],i=(0,p.Z)(a,(0,b.jsx)(v.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,u=(0,o.v9)((function(n){return n.users})).users,d=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(e){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:h().fire((0,x.p)("Chcesz usun\u0105\u0107 u\u017cytkownika?")).then(function(){var n=(0,l.Z)((0,c.Z)().mark((function n(t){var a;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isConfirmed){n.next=4;break}return a=null===u||void 0===u?void 0:u.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e})),n.next=4,r(a);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,b.jsx)(s.Z.Item,{onClick:function(){return d(n.user.id)},className:"border-0 p-0",style:{color:n.user.userColor},children:(0,b.jsxs)(m.Z,{disabled:a.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 bg-primary-subtle text-capitalize border-0 fs-5",style:{color:n.user.userColor},children:[n.user.userName,i]})})},G=function(){var n=(0,o.v9)((function(n){return n.users})).users;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"h4",children:"Usu\u0144 u\u017cytkownika"}),(0,b.jsx)(s.Z,{className:"border-0 bg-primary-subtle p-0",children:n?null===n||void 0===n?void 0:n.map((function(n){return(0,b.jsx)(V,{user:n},n.id)})):(0,b.jsx)("p",{className:"py-1 px-2 fs-4 text-warning",children:"Brak danych"})})]})},H=function(){var n,e=(0,o.v9)((function(n){return n.users})),t=e.usersError,r=e.usersIsLoading,s=(0,o.v9)((function(n){return n.infoMonths})),u=s.infoMonthsError,c=s.infoMonthsIsLoading;if(r||c)n=(0,b.jsx)(a.Z,{animation:"border",variant:"secondary",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})});else if(t){if("status"in t){var l="status"in t&&t.status;n=(0,b.jsx)("h3",{className:"text-danger mx-auto ",children:(0,b.jsxs)(b.Fragment,{children:[" B\u0142\u0105d: ",l," "]})})}}else if(u){if("status"in u){var f="status"in u&&u.status;n=(0,b.jsx)("h3",{className:"text-danger mx-auto ",children:(0,b.jsxs)(b.Fragment,{children:[" B\u0142\u0105d: ",f," "]})})}}else{var d="col-12 col-xxl-9 me-xxl-auto bg-white";n=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Z,{className:d,children:(0,b.jsx)(A,{})}),(0,b.jsx)(i.Z,{className:d,children:(0,b.jsx)(G,{})}),(0,b.jsx)(i.Z,{className:"".concat(d," flex-grow-1 d-block"),children:(0,b.jsx)(Z,{})})]})}return{settingsContent:n}},Y=t(7022),_=function(){var n=H().settingsContent,e=(0,o.v9)((function(n){return n.users})),t=(e.users,e.usersError,e.usersIsLoading,(0,o.v9)((function(n){return n.infoMonths})));t.infoMonths,t.infoMonthsError,t.infoMonthsIsLoading;return(0,b.jsx)("main",{style:{height:"100vh"},children:(0,b.jsx)(Y.Z,{className:"d-flex align-items-center flex-column backgroundImage pe-0",style:{minHeight:"100vh"},children:n})})}},2767:function(n,e,t){t.d(e,{Z:function(){return o},p:function(){return i}});var r=t(1830),a=t.n(r),i=function(n){return{title:n,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Tak",cancelButtonText:"Nie"}},o=function(n){a().fire({text:"B\u0142\u0105d ".concat(n),confirmButtonColor:"rgb(31, 180, 255)"})}},1752:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(1120);function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,e,t){var a=function(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=(0,r.Z)(n)););return n}(n,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(arguments.length<3?n:t):i.value}},a.apply(this,arguments)}}}]);
//# sourceMappingURL=507.52d8502e.chunk.js.map