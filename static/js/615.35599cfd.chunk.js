"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[615],{5615:function(n,e,r){r.r(e),r.d(e,{default:function(){return w}});var a=r(9439),t=r(2791),i=r(7371),d=r(322),l=r(1413),o=r(4165),u=r(5861),c=r(3433),s=r(184),p=function(n){return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:n.label}),(0,s.jsx)("input",{type:n.type,name:n.name,value:n.value,onChange:n.handleChange,placeholder:n.placeholder,style:{width:50}})]})},f=function(n){return(0,s.jsxs)("div",{className:n.containerClass,children:[(0,s.jsx)("input",{type:"radio",name:n.name,value:n.value,checked:n.checked,onChange:n.handleChange,className:n.inuptClass,id:n.value}),(0,s.jsx)("label",{htmlFor:n.value,className:n.labelClass,children:(0,s.jsxs)("small",{children:[" ",n.label?n.label:n.value]})})]})},h=r(3728),v=function(){var n=(0,t.useState)({hours:"",userName:"",location:""}),e=(0,a.Z)(n,2),r=e[0],i=(e[1],function(){});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("form",{onSubmit:function(n){n.preventDefault()},children:[[{type:"date",name:"date",label:"Dzie\u0144"},{type:"number",name:"hours",label:"Godz"},{type:"text",name:"userName",label:"Imi\u0119"}].map((function(n){var e=n.type,a=n.name,t=n.label;return(0,s.jsx)(p,{type:e,name:a,value:r[a],label:t,placeholder:t,handleChange:i},a)})),["Wewn\u0105trz","Poza"].map((function(n){return(0,s.jsx)(f,{value:n,name:"location",handleChange:i,checked:r.location===n},n)})),(0,s.jsx)("button",{children:(0,s.jsx)(h.pl2,{})})]})})},x=r(6355),m=function(n){for(var e=[],r=1;r<=n;r++)e.push({id:crypto.randomUUID(),content:r.toString(),userName:"",date:"",hours:0,location:""});return e},y=function(n){return null===n||void 0===n?void 0:n.map((function(n){return n.hasOwnProperty("days")?n:(0,l.Z)((0,l.Z)({},n),{},{days:[]})}))},b=function(n){var e=(0,d.X)(),r=(0,a.Z)(e,1)[0],t=(0,d.ur)(),p=(0,a.Z)(t,2),f=(p[0],p[1],(0,d.P2)(void 0)),h=f.data,m=(f.error,h&&Object.keys(h).join()),b=h?Object.values(h).flat():[],Z=y(b),j=h?(0,c.Z)(Z):[],g=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(e){var a;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=j.map((function(n){return n&&n.days?(0,l.Z)((0,l.Z)({},n),{},{days:n.days.filter((function(n){return n.id!==e}))}):n})),n.next=3,r({id:m,columns:a});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,s.jsx)("div",{style:{border:"1px solid black"},children:(0,s.jsx)(i._l,{draggableId:n.day&&n.day.id.toString(),index:n.index,children:function(e){return(0,s.jsxs)("div",(0,l.Z)((0,l.Z)((0,l.Z)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[(0,s.jsx)("strong",{children:n.day.content}),(0,s.jsx)(v,{}),(0,s.jsx)("button",{onClick:function(){return g(n.day.id)},children:(0,s.jsx)(x.AMf,{})})]}))}})})},Z=function(n){return(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{children:[n.column.columnName," "]}),(0,s.jsx)(i.bK,{droppableId:n.column.id,children:function(e,r){var a,t;return(0,s.jsxs)("div",(0,l.Z)((0,l.Z)({},e.droppableProps),{},{ref:e.innerRef,style:{border:"1px solid black",width:"30vw",minHeight:"100vh",height:"fit-content"},children:[n.column.days&&n.column.days.length>0&&(null===(a=n.column)||void 0===a||null===(t=a.days)||void 0===t?void 0:t.map((function(e,r){return(0,s.jsx)(b,{day:e,index:r,columnIdx:n.columnIdx,dayIdx:r},crypto.randomUUID())}))),e.placeholder]}))}})]})},j=r(5048),g=r(411),k=[{id:"miesiac",columnName:"Miesi\u0105c",days:[]},{id:"oczekuj\u0105ce",columnName:"Oczekuj\u0105ce"},{id:"zatwierdzone",columnName:"Zatwierdzone"}],I=function(){var n,e=(0,j.I0)(),r=(0,j.v9)((function(n){return n.hoursPanel})).numberOfDays,t=(0,d.P2)(void 0),i=t.data,f=(t.error,(0,d.l4)()),h=(0,a.Z)(f,2),v=h[0],x=(h[1],(0,d.X)()),b=(0,a.Z)(x,1)[0],Z=(0,d.iq)(),I=(0,a.Z)(Z,2),w=I[0];I[1];k[0].days=m(r);var C=m(r),z=i&&Object.keys(i).join(),N=i?Object.values(i).flat():[],O=y(N),D=i?(0,c.Z)(O):[];D[0]=i&&(null===N||void 0===N?void 0:N.length)>0&&(0,l.Z)((0,l.Z)({},null===O||void 0===O?void 0:O[0]),{},{days:[].concat((0,c.Z)(null===O||void 0===O||null===(n=O[0])||void 0===n?void 0:n.days),(0,c.Z)(C))});var P=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==i){n.next=5;break}return n.next=3,v(k);case 3:n.next=7;break;case 5:return n.next=7,b({id:z,columns:D});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(z);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,s.jsxs)("header",{children:[(0,s.jsx)(p,{type:"number",name:"numberOfDays",value:r,label:"Ilo\u015b\u0107 planowanych dni ",placeholder:"Dni",handleChange:function(n){var r=n.target.value;e((0,g.Cp)(r))}}),(0,s.jsx)("button",{onClick:P,children:"Dodaj dni"}),(0,s.jsx)("button",{onClick:S,children:" usu\u0144 wszystko"})]})},w=function(){var n=(0,d.P2)(void 0),e=n.data,r=(n.error,(0,d.iq)()),o=(0,a.Z)(r,2),u=(o[0],o[1],(0,d.X)()),p=(0,a.Z)(u,2),f=p[0],h=(p[1],e&&Object.values(e).flat()),v=y(h),x=(0,t.useState)([]),m=(0,a.Z)(x,2),b=m[0],j=m[1],g={id:e&&Object.keys(e).join(),columns:b};return(0,t.useEffect)((function(){j(v)}),[e]),(0,t.useEffect)((function(){f(g)}),[b]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{}),(0,s.jsx)("div",{style:{display:"flex"},children:(0,s.jsx)(i.Z5,{onDragEnd:function(n){return function(n,e,r){var t=n.source,i=n.destination;if(i&&(t.draggableId!==i.droppableId||t.index===i.index))if(t.droppableId!==i.droppableId){var d=e.findIndex((function(n){return n.id===t.droppableId})),o=e.findIndex((function(n){return n.id===i.droppableId})),u=(0,c.Z)(e[d].days),s=t.droppableId!==i.dropableId?(0,c.Z)(e[o].days):u,p=u.splice(t.index,1),f=(0,a.Z)(p,1)[0];s.splice(i.index,0,f);var h=(0,c.Z)(e);h[d]=(0,l.Z)((0,l.Z)({},e[d]),{},{days:u}),h[o]=(0,l.Z)((0,l.Z)({},e[o]),{},{days:s}),r(h)}else{var v=i.index,x=e.findIndex((function(n){return n.id===t.droppableId})),m=(0,c.Z)(e[x].days),y=m.splice(t.index,1),b=(0,a.Z)(y,1)[0];m.splice(v,0,b);var Z=(0,c.Z)(e);Z[x]=(0,l.Z)((0,l.Z)({},e[x]),{},{days:m}),r(Z)}}(n,b,j)},children:b&&b.length>0&&b.map((function(n,e){return(0,s.jsx)(Z,{column:n,columnIdx:e},n.id)}))})})]})}}}]);
//# sourceMappingURL=615.35599cfd.chunk.js.map