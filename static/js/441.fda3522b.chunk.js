"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[441],{3786:function(n,t,e){var r=e(1419),i=e(184);t.Z=function(n){var t=(0,r.Z)().windowWidth;return(0,i.jsxs)("main",{className:"d-flex backgroundImage m-0",style:{height:"100dvh",overflow:"hidden"},children:[(0,i.jsx)("aside",{style:{width:t>=500?"30%":0,maxWidth:"250px",height:"100%"}}),(0,i.jsx)("div",{className:"d-flex ps-1 flex-fill",style:{width:t>=500?"70%":"100%"},children:n.children})]})}},7129:function(n,t,e){var r=e(2791),i=e(5048),s=e(3920),a=e(7615);t.Z=function(){var n=(0,i.I0)(),t=(0,a.Jw)(),e=t.data,o=t.error,u=t.isLoading;(0,r.useEffect)((function(){n((0,s.eT)(e)),n((0,s.V2)(o)),n((0,s.jJ)(u))}),[e,o,u,n])}},1100:function(n,t,e){var r=e(1830),i=e.n(r),s=e(2791),a=e(4849),o=e(184);t.Z=function(n,t){(0,s.useEffect)((function(){if(n.isError){var t=n.error,e=t&&"status"in t&&t.status&&t.status;i().fire({text:"B\u0142\u0105d: ".concat(e||""),confirmButtonColor:"rgb(31, 180, 255)"})}}),[n.isError]);var e=t;return n.isLoading&&(e=(0,o.jsx)(a.Z,{animation:"border",size:"sm",variant:"secondary",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:e}}},2218:function(n,t,e){var r=e(3433),i=e(5048);t.Z=function(){var n,t=(0,i.v9)((function(n){return n.listMonths})).listMonths,e=t&&(null===(n=(0,r.Z)(t))||void 0===n?void 0:n.sort((function(n,t){return new Date(n).getTime()-new Date(t).getTime()}))),s=null===e||void 0===e?void 0:e.map((function(n){var t=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(t)}));return{sortedInfoMonths:e,databaseMonthsDatesToString:s}}},1419:function(n,t,e){var r=e(9439),i=e(2791);t.Z=function(){var n=(0,i.useState)(window.innerWidth),t=(0,r.Z)(n,2),e=t[0],s=t[1];return(0,i.useEffect)((function(){var n=function(){s(window.innerWidth)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),{windowWidth:e}}},4457:function(n,t,e){e.r(t),e.d(t,{default:function(){return B}});var r=e(3786),i=e(7129),s=e(4849),a=e(5048),o=e(3940),u=e(23),c=e(2218),d=e(4165),l=e(5861),f=e(9439),h=e(3360),x=e(7425),m=e(1830),v=e.n(m),p=e(1100),w=e(7615),g=e(2767),j=e(184),Z=function(n){var t=(0,w.bw)(),e=(0,f.Z)(t,2),r=e[0],i=e[1],s=(0,w._V)(),o=(0,f.Z)(s,2),c=o[0],m=(o[1],(0,a.v9)((function(n){return n.listMonths})).listMonths),Z=(0,p.Z)(i,(0,j.jsx)(x.GnT,{className:"text-danger fs-6 ms-auto"})).btnContent,b=function(){var t=(0,l.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v().fire((0,g.p)("Usun\u0105\u0107 miesi\u0105c?")).then(function(){var t=(0,l.Z)((0,d.Z)().mark((function t(e){var i,s,a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConfirmed){t.next=8;break}return i=n.monthDate.slice(0,4),s=n.monthDate.slice(-2),a=m.filter((function(n){return n!=="".concat(i,"-").concat(s)})),t.next=6,r({year:i,month:s});case 6:return t.next=8,c(a);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,j.jsxs)(u.Z.Item,{className:"d-flex justify-content-between align-items-center shadow-sm p-0 mb-2 px-1 rounded",children:[" ",n.monthDateToString," ",(0,j.jsx)(h.Z,{onClick:b,disabled:i.isLoading,className:"d-flex justify-content-between align-items-center px-1 bg-white border-0 text-capitalize",children:Z})]})},b=function(){var n=(0,c.Z)(),t=n.sortedInfoMonths,e=n.databaseMonthsDatesToString,r=(0,a.v9)((function(n){return n.listMonths})).listMonths;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:"h6",children:"Zapisane miesi\u0105ce"}),(0,j.jsxs)(u.Z,{className:"border-0 p-0",children:[!r&&(0,j.jsx)("p",{className:"py-1 px-2 text-warning",children:"Brak danych"}),null===e||void 0===e?void 0:e.reverse().map((function(n,e){return(0,j.jsx)(Z,{monthDateToString:n,monthDate:t[e]},n)}))]})]})},y=e(6021),N=function(n){var t=(0,y.I1)(),e=(0,f.Z)(t,2),r=e[0],i=e[1],s=(0,p.Z)(i,(0,j.jsx)(x.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,o=(0,a.v9)((function(n){return n.users})).users,c=function(){var n=(0,l.Z)((0,d.Z)().mark((function n(t){return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v().fire((0,g.p)("Usun\u0105\u0107 u\u017cytkownika?")).then(function(){var n=(0,l.Z)((0,d.Z)().mark((function n(e){var i;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return i=null===o||void 0===o?void 0:o.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==t})),n.next=4,r(i);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,j.jsx)(u.Z.Item,{onClick:function(){return c(n.user.id)},className:"shadow-sm p-0 mb-2 ps-2 pe-0 rounded-1",style:{backgroundColor:n.user.userColor,overflow:"hidden"},children:(0,j.jsxs)(h.Z,{disabled:i.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 text-capitalize rounded-0 bg-white border-0",style:{color:n.user.userColor},children:[n.user.userName,s]})})},k=function(){var n=(0,a.v9)((function(n){return n.users})).users;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:"h6",children:"Zapisani u\u017cytkownicy"}),(0,j.jsxs)(u.Z,{className:"border-0 p-0",children:[!n&&(0,j.jsx)("p",{className:"py-1 px-2 text-warning",children:"Brak danych"}),null===n||void 0===n?void 0:n.map((function(n){return(0,j.jsx)(N,{user:n},n.id)}))]})]})},C=function(){return(0,i.Z)(),(0,j.jsx)("div",{className:"bg-white p-2 py-4 p-sm-4 w-100",style:{height:"100%",overflow:"hidden auto",outline:"4px solid white"},children:(0,j.jsxs)("div",{style:{maxWidth:"480px",width:"100%"},children:[(0,j.jsx)(b,{}),(0,j.jsx)("div",{className:"border my-4"}),(0,j.jsx)(k,{})]})})},T=function(){var n,t=(0,a.v9)((function(n){return n.users})),e=t.usersError,r=t.usersIsLoading,i=(0,a.v9)((function(n){return n.listMonths})),u=i.listMonthsError,c=i.listMonthsIsLoading;if(r||c)n=(0,o.a)((0,j.jsx)(s.Z,{animation:"border",variant:"secondary",children:(0,j.jsx)("span",{className:"visually-hidden",children:"Loading..."})}));else if(e){if("status"in e){var d="status"in e&&e.status;n=(0,o.a)((0,j.jsxs)("h3",{className:"text-danger mx-auto ",children:[(0,j.jsxs)(j.Fragment,{children:[" B\u0142\u0105d: ",d]})," ",(0,j.jsx)("br",{}),(0,j.jsx)(j.Fragment,{children:"Od\u015bwie\u017c stron\u0119"})]}))}}else if(u){if("status"in u){var l="status"in u&&u.status;n=(0,o.a)((0,j.jsxs)("h3",{className:"text-danger mx-auto ",children:[(0,j.jsxs)(j.Fragment,{children:[" B\u0142\u0105d: ",l]})," ",(0,j.jsx)("br",{}),(0,j.jsx)(j.Fragment,{children:"Od\u015bwie\u017c stron\u0119"})]}))}}else n=(0,j.jsx)(C,{});return{requestState:n}},B=function(){var n=T().requestState;return(0,i.Z)(),(0,j.jsx)(r.Z,{children:n})}},2767:function(n,t,e){e.d(t,{Z:function(){return a},p:function(){return s}});var r=e(1830),i=e.n(r),s=function(n){return{title:n,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Tak",cancelButtonText:"Nie"}},a=function(n){i().fire({text:"B\u0142\u0105d ".concat(n),confirmButtonColor:"rgb(31, 180, 255)"})}},3940:function(n,t,e){e.d(t,{a:function(){return i}});var r=e(184),i=function(n){return(0,r.jsx)("div",{className:" d-flex justify-content-center align-items-center fs-3 text-warning text-center",style:{maxWidth:"1000px",width:"100%",height:"100%"},children:n})}},2391:function(n){var t=function(){};n.exports=t}}]);
//# sourceMappingURL=441.fda3522b.chunk.js.map