"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[873],{3786:function(n,e,t){var i=t(1419),r=t(184);e.Z=function(n){var e=(0,i.Z)().windowWidth;return(0,r.jsxs)("main",{className:"d-flex backgroundImage m-0",style:{height:"100vh",overflow:"hidden",position:"relative"},children:[(0,r.jsx)("aside",{style:{width:e>=500?"30%":0,maxWidth:"250px",height:"100%"}}),(0,r.jsx)("div",{className:"d-flex ps-1 flex-fill",style:{width:e>=500?"70%":"100%"},children:n.children})]})}},1014:function(n,e,t){t.d(e,{Z:function(){return o}});var i=t(3360),r=t(5048),s=t(7064),a=t(184),o=function(n){var e=(0,r.I0)();return(0,a.jsx)(a.Fragment,{children:n.isPrinted?(0,a.jsx)("div",{id:"opacityContainer",className:"fixed-top d-flex justify-content-center align-items-center ",onClick:function(t){return function(t){var i,r;"opacityContainer"!==(null===(i=t.target)||void 0===i?void 0:i.id)&&"noButton"!==(null===(r=t.target)||void 0===r?void 0:r.id)||(null!==n&&void 0!==n&&n.setIsPrinted&&(null===n||void 0===n||n.setIsPrinted(!1)),e((0,s.VG)("")))}(t)},style:{height:"100vh",zIndex:"1060",backgroundColor:"rgba(0,0,0,0.4)"},children:(0,a.jsxs)("div",{className:"p-4 bg-white rounded-1 fs-3 fw-medium alertAnimationDown",children:[n.header,(0,a.jsx)("div",{className:"w-fit-content m-auto",children:n.header.includes("Usun\u0105\u0107")?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{id:"noButton",children:"Nie"}),(0,a.jsx)(i.Z,{onClick:n.action,className:"bg-danger ms-4 border ",children:"Tak"})]}):(0,a.jsx)(i.Z,{id:"noButton",onClick:n.action,children:"Ok"})})]})}):(0,a.jsx)(a.Fragment,{})})}},9220:function(n,e,t){t.d(e,{Z:function(){return b}});var i=t(5705),r=t(3360),s=t(8820),a=t(1100),o=(t(2791),t(3855)),l=t(184),u=function(n){var e=(0,i.u6)(),t=e.values,r=e.handleBlur,s=e.setFieldValue,a=t.allHours/3.2,u="linear-gradient(to right, rgba(180,120,255) ".concat(a,"%, rgba(180,180,255) ").concat(a,"%)");return(0,l.jsx)(l.Fragment,{children:n.inputsValues.map((function(n){return(0,l.jsx)(o.Z.Group,{className:"mt-2 d-flex align-items-center w-100",children:(0,l.jsx)(o.Z.Range,{name:n,min:0,max:320,value:t[n],onChange:function(e){return s(n,e.target.value)},onBlur:r,className:"form-range custom-range medium",style:{height:10,background:u}})},n)}))})},c=t(5048),d=function(n){var e,t,r,s,a=(0,i.u6)().values,o=((0,c.v9)((function(n){return n.monthPanel})).month,"");n.calcHours&&((null===n||void 0===n||null===(e=n.calcHours)||void 0===e?void 0:e.submittedHours)+(null===n||void 0===n||null===(t=n.calcHours)||void 0===t?void 0:t.acceptedHours)>+(null===a||void 0===a?void 0:a.allHours)&&(o="Min. ".concat((null===n||void 0===n||null===(r=n.calcHours)||void 0===r?void 0:r.submittedHours)+(null===n||void 0===n||null===(s=n.calcHours)||void 0===s?void 0:s.acceptedHours)," h")));return(0,l.jsx)("div",{className:"text-danger fs-8",children:o})},m=t(2015),h=function(n){var e,t="fs-7 d-flex align-items-end";return(0,l.jsxs)("div",{className:"d-flex justify-content-between fw-medium ",children:[(0,l.jsx)("div",{className:t,children:"0 h"}),"Zapisane: ",null===n||void 0===n||null===(e=n.calcHours)||void 0===e?void 0:e.allHours," h",(0,l.jsxs)("div",{className:"col-6 col-sm-5 d-flex",style:{width:"62px"},children:[(0,l.jsx)(m.Z,{inputsData:[{value:"allHours",type:"number",isErrorPrint:!1}]})," \xa0",(0,l.jsx)("div",{children:"h"})]}),(0,l.jsx)("div",{className:t,children:"320 h"})]})},v=t(4165),f=t(1413),x=t(5861),p=t(9439),j=t(9065),g=t(7615),Z=function(n,e,t){var i=(0,j.Z)(),r=(i.yearFromURL,i.monthFromURL,(0,g.uZ)()),s=(0,p.Z)(r,2),a=s[0],o=s[1],l=((0,c.I0)(),function(){var i=(0,x.Z)((0,v.Z)().mark((function i(r){return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n){i.next=3;break}if(!((null===n||void 0===n?void 0:n.submittedHours)+(null===n||void 0===n?void 0:n.acceptedHours)>+(null===r||void 0===r?void 0:r.allHours))){i.next=3;break}return i.abrupt("return");case 3:if(i.t0=n&&r.allHours&&e&&t,!i.t0){i.next=7;break}return i.next=7,a({year:e,month:t,calcHours:(0,f.Z)((0,f.Z)({},n),{},{allHours:+r.allHours,currentHours:+r.allHours-n.acceptedHours-n.submittedHours})});case 7:case"end":return i.stop()}}),i)})));return function(n){return i.apply(this,arguments)}}());return{initialValues:{allHours:0},onSubmit:l,success:o}},b=function(n){var e,t,o,c,m=null!==(e=null===(t=n.monthDate)||void 0===t?void 0:t.slice(0,4))&&void 0!==e?e:"",v=null!==(o=null===(c=n.monthDate)||void 0===c?void 0:c.slice(5))&&void 0!==o?o:"",f=(0,g.jg)({year:null!==m&&void 0!==m?m:"",month:null!==v&&void 0!==v?v:""}).data,x=Z(f,m,v),p=x.initialValues,j=x.onSubmit,b=x.success,y=(0,a.Z)(b,(0,l.jsx)(s.dEn,{className:"text-primary",style:{fontSize:"1.4rem"}})).btnContent;return(0,l.jsx)(i.J9,{initialValues:p,onSubmit:j,children:(0,l.jsxs)(i.l0,{className:"py-2",children:[(0,l.jsx)(h,{calcHours:f}),(0,l.jsx)(u,{inputsValues:["allHours"]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,l.jsx)(d,{calcHours:f}),(0,l.jsx)(r.Z,{type:"submit",disabled:b.isLoading,className:"col-2 d-flex justify-content-center align-items-center m-0 justify-content-center p-0 m-0 ms-1  text-info-emphasis border-0 bg-transparent",children:y})]})]})})}},3175:function(n,e,t){var i=t(184);e.Z=function(n){return(0,i.jsx)("div",{className:"text-danger d-block mt-0 fs-8",style:{height:"0.7rem"},children:n.touched[n.value]&&n.errors[n.value]&&n.errors[n.value]})}},2015:function(n,e,t){var i=t(5705),r=t(3855),s=t(3175),a=t(184);e.Z=function(n){var e=(0,i.u6)(),t=e.values,o=e.handleBlur,l=e.setFieldValue,u=e.errors,c=e.touched;return(0,a.jsx)(a.Fragment,{children:n.inputsData.map((function(n){var e=n.value,i=n.label,d=n.type,m=n.isErrorPrint,h=n.min,v=n.max,f=n.placeholder;return(0,a.jsxs)(r.Z.Group,{children:[i&&(0,a.jsx)(r.Z.Label,{htmlFor:"date",className:"mb-0 fs-responsive fw-medium",children:i}),(0,a.jsx)(r.Z.Control,{id:e,type:d,name:e,value:t[e],onChange:function(n){return l(e,n.target.value)},onBlur:o,min:h,max:v,placeholder:f,size:"sm",className:"p-0 px-1 border border-primary shadow-sm w-100 ",style:{minHeight:0}}),m&&(0,a.jsx)(s.Z,{value:e,errors:u,touched:c})]},e)}))})}},5904:function(n,e,t){t.d(e,{Z:function(){return c}});var i=t(2791),r=t(5048),s=t(3920),a=t(9439),o=t(2685),l=t(3003),u=function(){var n=(0,o.iH)(l.Fs),e=(0,i.useState)(""),t=(0,a.Z)(e,2),r=t[0],s=t[1],u=(0,i.useState)([]),c=(0,a.Z)(u,2),d=c[0],m=c[1];return(0,i.useEffect)((function(){var e=(0,o.jM)(n,(function(n){var e=[],t=[];null===n||void 0===n||n.forEach((function(n){var i=n.key;e.push(i);var r=(0,o.iH)(l.Fs,"".concat(i));(0,o.jM)(r,(function(n){var e=[];null===n||void 0===n||n.forEach((function(n){var t=n.key;e.push(t.slice(6))})),t.push(e)}),(function(n){s("B\u0142\u0105d")}))}));var i=[].concat(t).map((function(n,t){return n.map((function(n){return e[t]+"-"+n}))})).flat().reverse();m(i)}),(function(n){s("B\u0142\u0105d")}));return function(){e()}}),[]),{databaseListMonths:d,error:r}},c=function(){var n=(0,r.I0)(),e=u(),t=e.databaseListMonths;e.error;(0,i.useEffect)((function(){n((0,s.eT)(t))}),[t,n])}},1100:function(n,e,t){var i=t(4849),r=t(184);e.Z=function(n,e){var t=e;return n.isLoading&&(t=(0,r.jsx)(i.Z,{animation:"border",size:"sm",variant:"secondary",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:t}}},2218:function(n,e,t){var i=t(3433),r=t(5048);e.Z=function(){var n,e=(0,r.v9)((function(n){return n.listMonths})).listMonths;return{databaseMonthsDatesToString:e&&(null===(n=(0,i.Z)(e))||void 0===n?void 0:n.map((function(n){var e=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(e)})))}}},9065:function(n,e,t){var i=t(7689);e.Z=function(){var n=(0,i.TH)().pathname.split("/").slice(-1)[0],e=null===n||void 0===n?void 0:n.slice(0,4),t=null===n||void 0===n?void 0:n.slice(-2);return{monthURL:n,yearFromURL:e,monthFromURL:t,isMonthInURL:/^\d{4}-\d{2}$/.test(n)}}},1419:function(n,e,t){var i=t(9439),r=t(2791);e.Z=function(){var n=(0,r.useState)(window.innerWidth),e=(0,i.Z)(n,2),t=e[0],s=e[1];return(0,r.useEffect)((function(){var n=function(){s(window.innerWidth)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),{windowWidth:t}}},8873:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var i=t(3786),r=t(4849),s=t(5048),a=t(3940),o=t(23),l=t(184),u=function(n){var e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h3",{className:"h6",children:[n.header,": ",null===(e=n.listContent)||void 0===e?void 0:e.length]}),(0,l.jsxs)(o.Z,{className:"border-0 p-0",children:[!n.listContent&&(0,l.jsx)(o.Z.Item,{className:"py-1 px-2 text-warning border-0",children:"Brak danych"}),n.children]})]})},c=t(5904),d=t(9439),m=t(2791),h=t(9220),v=t(2218),f="shadow-sm p-0 mb-2 ps-2 pe-0 rounded-1",x=t(3360),p=t(7858),j=t(6856),g=t(828),Z=t(1087),b=function(n){var e,t,i,r,a=(0,s.v9)((function(n){return n.listMonths})).listMonths,o=(null===(e=n.title)||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toLocaleUpperCase())+(null!==(i=null===(r=n.title)||void 0===r?void 0:r.slice(1))&&void 0!==i?i:"");return(0,l.jsx)("div",{style:{width:"45%"},children:(0,l.jsxs)(Z.rU,{to:"/godziny/".concat(null===a||void 0===a?void 0:a[n.idx]),className:"text-decoration-none fs-responsive text-dark fw-medium",children:[(0,l.jsx)(g.Fjg,{className:"fs-6 me-1 text-primary"}),o]})})},y=t(4165),w=t(5861),N=t(7425),k=t(1100),H=t(7615),C=t(1014),D=function(n){(0,s.I0)();var e=(0,H.bw)(),t=(0,d.Z)(e,2),i=t[0],r=t[1],a=(0,k.Z)(r,(0,l.jsx)(N.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,o=(0,s.v9)((function(n){return n.listMonths})).listMonths,u=((0,s.v9)((function(n){return n.alert})).agree,(0,m.useState)(!1)),c=(0,d.Z)(u,2),h=c[0],v=c[1],f=function(){var e=(0,w.Z)((0,y.Z)().mark((function e(){var t,r;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.monthDate||null===o||void 0===o||!o.includes(n.monthDate)){e.next=5;break}return t=n.monthDate.slice(0,4),r=n.monthDate.slice(-2),e.next=5,i({year:t,month:r});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C.Z,{action:f,isPrinted:h,setIsPrinted:v,header:"Usun\u0105\u0107 miesi\u0105c"}),(0,l.jsx)(x.Z,{disabled:r.isLoading,onClick:function(){return o&&(e=o[n.idx],n.idx,n.setMonthDate(e),void v(!0));var e},className:"ms-auto bg-transparent border-0 p-1",children:o&&n.monthDate===o[n.idx]?a:(0,l.jsx)(N.GnT,{className:"text-danger fs-5 ms-auto"})})]})},M=function(n){var e=(0,m.useState)(!1),t=(0,d.Z)(e,2),i=t[0];t[1];return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(b,{title:n.monthDateToString,idx:n.idx}),(0,l.jsxs)(x.Z,{onClick:function(){n.onToggle(),n.isOpen&&n.setOpenCollapseIndex(-1)},"aria-expanded":i,"aria-controls":"example-collapse-text",size:"sm",className:"fw-medium fs-responsive d-flex justify-content-between align-items-center p-0 ps-1",style:{transition:"border-radius 420ms"},children:["Zapisz godziny",(0,l.jsx)(j.x3N,{className:"fs-3",style:{transform:"".concat(n.isOpen?"rotate(180deg)":""," "),transitionDuration:"320ms"}})]}),(0,l.jsx)(D,{idx:n.idx,monthDate:n.monthDate,setMonthDate:n.setMonthDate})]}),(0,l.jsx)(p.Z,{in:n.isOpen,children:(0,l.jsx)("div",{className:" pe-1",children:n.isOpen&&n.children})})]})},F=function(){var n=(0,v.Z)().databaseMonthsDatesToString,e=(0,s.v9)((function(n){return n.listMonths})).listMonths,t=(0,m.useState)(null),i=(0,d.Z)(t,2),r=i[0],a=i[1],u=(0,m.useState)(!1),c=(0,d.Z)(u,2),x=c[0],p=c[1],j=(0,m.useState)(""),g=(0,d.Z)(j,2),Z=g[0],b=g[1];return(0,l.jsx)(l.Fragment,{children:null===n||void 0===n?void 0:n.map((function(n,t){return(0,l.jsx)(o.Z.Item,{className:f,children:(0,l.jsx)("div",{children:(0,l.jsx)(M,{monthDateToString:n,monthDate:Z,isOpen:t===r,setOpenCollapseIndex:a,isOpenCollapse:x,onToggle:function(){return e&&function(n,t){b(n),a(t),e&&n===e[t]&&p((function(n){return!n}))}(e[t],t)},idx:t,setMonthDate:b,children:(0,l.jsx)(h.Z,{monthDate:e&&e[t]})})})},n)}))})},L=t(6021),I=function(){var n=(0,L.I1)(),e=(0,d.Z)(n,2),t=e[0],i=e[1],r=(0,k.Z)(i,(0,l.jsx)(N.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,a=(0,s.v9)((function(n){return n.listUsers})).listUsers,u=(0,m.useState)(""),c=(0,d.Z)(u,2),h=c[0],v=c[1],p=(0,m.useState)(!1),j=(0,d.Z)(p,2),g=j[0],Z=j[1],b=function(){var n=(0,w.Z)((0,y.Z)().mark((function n(){var e;return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!h){n.next=7;break}if(e=null===a||void 0===a?void 0:a.filter((function(n){return(null===n||void 0===n?void 0:n.userName)!==h})),n.t0=e,!n.t0){n.next=6;break}return n.next=6,t(e);case 6:Z(!1);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C.Z,{action:b,isPrinted:g,setIsPrinted:Z,header:"Usun\u0105\u0107 u\u017cytkownika"}),null===a||void 0===a?void 0:a.map((function(n){return(0,l.jsx)(o.Z.Item,{className:f,style:{backgroundColor:n.userColor,overflow:"hidden"},children:(0,l.jsxs)(x.Z,{onClick:function(){return function(n){v(n),Z(!0)}(n.userName)},disabled:i.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 text-capitalize rounded-0 bg-white border-0",style:{color:n.userColor},children:[n.userName,h===n.userName?r:(0,l.jsx)(N.GnT,{className:"text-danger fs-5 ms-auto"})]})},n.userName)}))]})},S=function(){(0,c.Z)();var n=(0,s.v9)((function(n){return n.listMonths})).listMonths,e=(0,s.v9)((function(n){return n.listUsers})).listUsers;return(0,l.jsx)("div",{className:"bg-white p-2 py-4 p-sm-4 w-100",style:{height:"100%",overflow:"hidden auto",outline:"4px solid white"},children:(0,l.jsxs)("div",{style:{maxWidth:"480px",width:"100%"},children:[(0,l.jsx)(u,{header:"Zapisane miesi\u0105ce",listContent:n,children:(0,l.jsx)(F,{})}),(0,l.jsx)("div",{className:"border my-4"}),(0,l.jsx)(u,{header:"Zapisani u\u017cytkownicy",listContent:e,children:(0,l.jsx)(I,{})})]})})},U=function(){var n,e=(0,s.v9)((function(n){return n.listUsers})),t=e.listUsersError,i=e.listUsersIsLoading,o=(0,s.v9)((function(n){return n.listMonths})),u=o.listMonthsError,c=o.listMonthsIsLoading;if(i||c)n=(0,a.a)((0,l.jsx)(r.Z,{animation:"border",variant:"secondary",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})}));else if(t){if("status"in t){var d="status"in t&&t.status;n=(0,a.a)((0,l.jsxs)("h3",{className:"text-danger mx-auto ",children:[(0,l.jsxs)(l.Fragment,{children:[" B\u0142\u0105d: ",d]})," ",(0,l.jsx)("br",{}),(0,l.jsx)(l.Fragment,{children:"Od\u015bwie\u017c stron\u0119"})]}))}}else if(u){if("status"in u){var m="status"in u&&u.status;n=(0,a.a)((0,l.jsxs)("h3",{className:"text-danger mx-auto ",children:[(0,l.jsxs)(l.Fragment,{children:[" B\u0142\u0105d: ",m]})," ",(0,l.jsx)("br",{}),(0,l.jsx)(l.Fragment,{children:"Od\u015bwie\u017c stron\u0119"})]}))}}else n=(0,l.jsx)(S,{});return{requestState:n}},T=function(){var n=U().requestState;return(0,l.jsx)(i.Z,{children:n})}},3940:function(n,e,t){t.d(e,{a:function(){return r}});var i=t(184),r=function(n){return(0,i.jsx)("div",{className:" d-flex justify-content-center align-items-center fs-3 text-warning text-center",style:{maxWidth:"1000px",width:"100%",height:"100%"},children:n})}}}]);
//# sourceMappingURL=873.0dba0e4a.chunk.js.map