"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[507],{1100:function(n,t,e){var r=e(1830),a=e.n(r),i=e(2791),o=e(4849),s=e(184);t.Z=function(n,t){(0,i.useEffect)((function(){if(n.isError){var t=n.error,e=t&&"status"in t&&t.status&&t.status;a().fire({text:"B\u0142\u0105d: ".concat(e||""),confirmButtonColor:"rgb(31, 180, 255)"})}}),[n.isError]);var e=t;return n.isLoading&&(e=(0,s.jsx)(o.Z,{animation:"border",size:"sm",variant:"secondary",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:e}}},2218:function(n,t,e){var r=e(3433),a=e(5048);t.Z=function(){var n,t=(0,a.v9)((function(n){return n.infoMonths})).infoMonths,e=t&&(null===(n=(0,r.Z)(t))||void 0===n?void 0:n.sort((function(n,t){return new Date(n).getTime()-new Date(t).getTime()}))),i=null===e||void 0===e?void 0:e.map((function(n){var t=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(t)}));return{sortedInfoMonths:e,databaseMonthsDatesToString:i}}},6778:function(n,t,e){e.r(t),e.d(t,{default:function(){return _}});var r,a=e(4849),i=e(7022),o=e(9743),s=e(5048),u=e(23),c=e(2218),l=e(4165),f=e(5861),d=e(9439),h=e(1830),m=e.n(h),p=e(3360),v=e(7425),x=e(1100),g=e(2767),b=e(7615),y=e(184),Z=function(n){var t=(0,b.bw)(),e=(0,d.Z)(t,2),r=e[0],a=e[1],i=(0,b.kM)(),o=(0,d.Z)(i,2),c=o[0],h=(o[1],(0,s.v9)((function(n){return n.infoMonths})).infoMonths),Z=(0,x.Z)(a,(0,y.jsx)(v.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,j=function(){var t=(0,f.Z)((0,l.Z)().mark((function t(){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m().fire((0,g.p)("Chcesz usun\u0105\u0107 miesi\u0105c?")).then(function(){var t=(0,f.Z)((0,l.Z)().mark((function t(e){var a,i,o;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConfirmed){t.next=8;break}return a=n.monthDate.slice(0,4),i=n.monthDate.slice(-2),o=h.filter((function(n){return n!=="".concat(a,"-").concat(i)})),t.next=6,r({year:a,month:i});case 6:return t.next=8,c(o);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,y.jsx)(u.Z.Item,{onClick:j,className:"border-0 p-0 px-1 ",children:(0,y.jsxs)(p.Z,{disabled:a.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 bg-primary-subtle text-capitalize border-0 fs-5",children:[n.monthDateToString," ",Z]})})},j=function(){var n=(0,c.Z)(),t=n.sortedInfoMonths,e=n.databaseMonthsDatesToString,r=(0,s.v9)((function(n){return n.infoMonths})).infoMonths;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{className:"h4",children:"Usu\u0144 miesi\u0105c"}),(0,y.jsx)(u.Z,{className:"border-0 bg-primary-subtle p-0",children:r?null===e||void 0===e?void 0:e.map((function(n,e){return(0,y.jsx)(Z,{monthDateToString:n,monthDate:t[e]},n)})):(0,y.jsx)("p",{className:"py-1 px-2 fs-4 text-warning",children:"Brak danych"})})]})},k=e(2677),w=e(3855),C=[{labelText:"Podaj imi\u0119",name:"userName",type:"text",placeholder:"Imi\u0119"},{labelText:"Podaj kolor",name:"userColor",type:"color",placeholder:""}],N=e(3433),M=e(1413),T=e(5705),L=e(6021),B=e(8007),S=function(){var n=(0,L.xY)().data,t=null===n||void 0===n?void 0:n.map((function(n){return n.userName})),e=null===n||void 0===n?void 0:n.map((function(n){return n.userColor}));return{validationSchema:B.Ry({userName:B.Z_().min(3,"Min. 3 litery").max(10,"Max. 10 liter").test("is-in-database","Imi\u0119 zaj\u0119te",(function(n){return void 0!==n&&!(null!==t&&void 0!==t&&t.includes(n))})).required("Imi\u0119 wymagane"),userColor:B.Z_().test("is-in-database","Kolor zaj\u0119ty",(function(n){return void 0!==n&&!(null!==e&&void 0!==e&&e.includes(n))}))})}},D=function(){var n=(0,L.Vx)(),t=(0,d.Z)(n,2),e=t[0],r=t[1],a=S().validationSchema,i=(0,L.xY)().data,o=i||[],s=(0,T.TA)({initialValues:{id:"",userName:"",userColor:"#e0cce1"},validationSchema:a,onSubmit:function(){var n=(0,f.Z)((0,l.Z)().mark((function n(t,r){var a,s;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r.resetForm,s=(0,M.Z)((0,M.Z)({},t),{},{id:crypto.randomUUID()}),!i){n.next=7;break}return n.next=5,e([].concat((0,N.Z)(o),[s]));case 5:n.next=9;break;case 7:return n.next=9,e([s]);case 9:a();case 10:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()});return{formik:s,success:r}},I=e(7462);!function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"}(r||(r={}));var P=function(n){return n};var E="beforeunload",z="popstate";function F(n){n.preventDefault(),n.returnValue=""}function O(){var n=[];return{get length(){return n.length},push:function(t){return n.push(t),function(){n=n.filter((function(n){return n!==t}))}},call:function(t){n.forEach((function(n){return n&&n(t)}))}}}function R(){return Math.random().toString(36).substr(2,8)}function U(n){var t=n.pathname,e=void 0===t?"/":t,r=n.search,a=void 0===r?"":r,i=n.hash,o=void 0===i?"":i;return a&&"?"!==a&&(e+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(e+="#"===o.charAt(0)?o:"#"+o),e}function A(n){var t={};if(n){var e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));var r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}var V=function(){var n=D(),t=n.formik,e=n.success,a=(0,x.Z)(e,"Zapisz u\u017cytkowanika").btnContent,i=function(n){void 0===n&&(n={});var t=n.window,e=void 0===t?document.defaultView:t,a=e.history;function i(){var n=e.location,t=n.pathname,r=n.search,i=n.hash,o=a.state||{};return[o.idx,P({pathname:t,search:r,hash:i,state:o.usr||null,key:o.key||"default"})]}var o=null;e.addEventListener(z,(function(){if(o)d.call(o),o=null;else{var n=r.Pop,t=i(),e=t[0],a=t[1];if(d.length){if(null!=e){var s=c-e;s&&(o={action:n,location:a,retry:function(){g(-1*s)}},g(s))}}else x(n)}}));var s=r.Pop,u=i(),c=u[0],l=u[1],f=O(),d=O();function h(n){return"string"===typeof n?n:U(n)}function m(n,t){return void 0===t&&(t=null),P((0,I.Z)({pathname:l.pathname,hash:"",search:""},"string"===typeof n?A(n):n,{state:t,key:R()}))}function p(n,t){return[{usr:n.state,key:n.key,idx:t},h(n)]}function v(n,t,e){return!d.length||(d.call({action:n,location:t,retry:e}),!1)}function x(n){s=n;var t=i();c=t[0],l=t[1],f.call({action:s,location:l})}function g(n){a.go(n)}null==c&&(c=0,a.replaceState((0,I.Z)({},a.state,{idx:c}),""));var b={get action(){return s},get location(){return l},createHref:h,push:function n(t,i){var o=r.Push,s=m(t,i);if(v(o,s,(function(){n(t,i)}))){var u=p(s,c+1),l=u[0],f=u[1];try{a.pushState(l,"",f)}catch(d){e.location.assign(f)}x(o)}},replace:function n(t,e){var i=r.Replace,o=m(t,e);if(v(i,o,(function(){n(t,e)}))){var s=p(o,c),u=s[0],l=s[1];a.replaceState(u,"",l),x(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(n){return f.push(n)},block:function(n){var t=d.push(n);return 1===d.length&&e.addEventListener(E,F),function(){t(),d.length||e.removeEventListener(E,F)}}};return b}();return(0,y.jsxs)(w.Z,{onSubmit:t.handleSubmit,children:[(0,y.jsx)("button",{onClick:function(){i.back()},children:"Wr\xf3\u0107"}),(0,y.jsx)(o.Z,{children:C.map((function(n,e){var r=n.labelText,a=n.name,i=n.type,o=n.placeholder;return(0,y.jsx)(k.Z,{className:"".concat(0===e?"col-8":"col-4"),children:(0,y.jsxs)(w.Z.Group,{className:"",children:[(0,y.jsx)(w.Z.Label,{htmlFor:a,className:"fw-medium",children:r}),(0,y.jsx)(w.Z.Control,{id:a,type:i,name:a,value:t.values[a],onChange:t.handleChange,onBlur:t.handleBlur,placeholder:o}),(0,y.jsx)(w.Z.Text,{className:"text-danger d-block mt-0 mb-4 fs-8",style:{height:"0.7rem"},children:t.touched[a]&&t.errors[a]&&t.errors[a]})]})},a)}))}),(0,y.jsx)(p.Z,{disabled:e.isLoading,type:"submit",className:"col-8 col-sm-7  bg-info text-white fw-medium",children:a})]})},G=function(n){var t=(0,L.I1)(),e=(0,d.Z)(t,2),r=e[0],a=e[1],i=(0,x.Z)(a,(0,y.jsx)(v.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,o=(0,s.v9)((function(n){return n.users})).users,c=function(){var n=(0,f.Z)((0,l.Z)().mark((function n(t){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m().fire((0,g.p)("Chcesz usun\u0105\u0107 u\u017cytkownika?")).then(function(){var n=(0,f.Z)((0,l.Z)().mark((function n(e){var a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return a=null===o||void 0===o?void 0:o.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==t})),n.next=4,r(a);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,y.jsx)(u.Z.Item,{onClick:function(){return c(n.user.id)},className:"border-0 p-0",style:{color:n.user.userColor},children:(0,y.jsxs)(p.Z,{disabled:a.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 bg-primary-subtle text-capitalize border-0 fs-5",style:{color:n.user.userColor},children:[n.user.userName,i]})})},H=function(){var n=(0,s.v9)((function(n){return n.users})).users;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{className:"h4",children:"Usu\u0144 u\u017cytkownika"}),(0,y.jsx)(u.Z,{className:"border-0 bg-primary-subtle p-0",children:n?null===n||void 0===n?void 0:n.map((function(n){return(0,y.jsx)(G,{user:n},n.id)})):(0,y.jsx)("p",{className:"py-1 px-2 fs-4 text-warning",children:"Brak danych"})})]})},Y=function(){var n,t=(0,s.v9)((function(n){return n.users})),e=t.usersError,r=t.usersIsLoading,u=(0,s.v9)((function(n){return n.infoMonths})),c=u.infoMonthsError,l=u.infoMonthsIsLoading,f="col-sm-8 col-md-9 col-xl-8 col-xxl-8 ms-sm-auto mx-xl-auto px-1 pt-4";if(r||l)n=(0,y.jsx)(a.Z,{animation:"border",variant:"secondary",children:(0,y.jsx)("span",{className:"visually-hidden",children:"Loading..."})});else if(e){if("status"in e){var d="status"in e&&e.status;n=(0,y.jsx)("h3",{className:"text-danger mx-auto ",children:(0,y.jsxs)(y.Fragment,{children:[" B\u0142\u0105d: ",d," "]})})}}else if(c){if("status"in c){var h="status"in c&&c.status;n=(0,y.jsx)("h3",{className:"text-danger mx-auto ",children:(0,y.jsxs)(y.Fragment,{children:[" B\u0142\u0105d: ",h," "]})})}}else n=(0,y.jsxs)(i.Z,{fluid:!0,children:[(0,y.jsx)(o.Z,{className:f,children:(0,y.jsx)(V,{})}),(0,y.jsx)(o.Z,{className:f,children:(0,y.jsx)(H,{})}),(0,y.jsx)(o.Z,{className:f,children:(0,y.jsx)(j,{})})]});return{settingsContent:n}},_=function(){var n=Y().settingsContent,t=(0,s.v9)((function(n){return n.users})),e=t.users,r=t.usersError,a=t.usersIsLoading,i=(0,s.v9)((function(n){return n.infoMonths})),o=i.infoMonths,u=i.infoMonthsError,c=i.infoMonthsIsLoading,l="bg-primary-subtle";return(c&&!o||a&&!e)&&(l="d-flex align-items-center justify-content-center vh-100"),(!o||u||c||!e||r||a)&&(l="d-flex justify-content-end align-items-center p-1 pe-sm-5 col-sm-7 col-md-8 ms-auto mx-xxl-auto"),(0,y.jsx)("main",{className:l,style:{minHeight:"100vh"},children:n})}},2767:function(n,t,e){e.d(t,{Z:function(){return o},p:function(){return i}});var r=e(1830),a=e.n(r),i=function(n){return{title:n,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Tak",cancelButtonText:"Nie"}},o=function(n){a().fire({text:"B\u0142\u0105d ".concat(n),confirmButtonColor:"rgb(31, 180, 255)"})}},1752:function(n,t,e){e.d(t,{Z:function(){return a}});var r=e(1120);function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,t,e){var a=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=(0,r.Z)(n)););return n}(n,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?n:e):i.value}},a.apply(this,arguments)}}}]);
//# sourceMappingURL=507.63ed4b79.chunk.js.map