"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[282],{1100:function(n,e,t){var r=t(1830),s=t.n(r),a=t(2791),i=t(4849),o=t(184);e.Z=function(n,e){(0,a.useEffect)((function(){if(n.isError){var e=n.error,t=e&&"status"in e&&e.status&&e.status;s().fire({text:"B\u0142\u0105d: ".concat(t||""),confirmButtonColor:"rgb(31, 180, 255)"})}}),[n.isError]);var t=e;return n.isLoading&&(t=(0,o.jsx)(i.Z,{animation:"border",size:"sm",variant:"secondary",children:(0,o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})),{btnContent:t}}},2218:function(n,e,t){var r=t(3433),s=t(5048);e.Z=function(){var n,e=(0,s.v9)((function(n){return n.infoMonths})).infoMonths,t=e&&(null===(n=(0,r.Z)(e))||void 0===n?void 0:n.sort((function(n,e){return new Date(n).getTime()-new Date(e).getTime()}))),a=null===t||void 0===t?void 0:t.map((function(n){var e=new Date(n);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",timeZone:"UTC"}).format(e)}));return{sortedInfoMonths:t,databaseMonthsDatesToString:a}}},1419:function(n,e,t){var r=t(9439),s=t(2791);e.Z=function(){var n=(0,s.useState)(window.innerWidth),e=(0,r.Z)(n,2),t=e[0],a=e[1];return(0,s.useEffect)((function(){var n=function(){a(window.innerWidth)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),{windowWidth:t}}},3282:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(7022),s=t(1419),a=t(4849),i=t(9743),o=t(5048),c=t(23),u=t(2218),l=t(4165),d=t(5861),m=t(9439),f=t(1830),h=t.n(f),x=t(3360),v=t(7425),p=t(1100),Z=t(2767),j=t(7615),w=t(184),g=function(n){var e=(0,j.bw)(),t=(0,m.Z)(e,2),r=t[0],s=t[1],a=(0,j.kM)(),i=(0,m.Z)(a,2),u=i[0],f=(i[1],(0,o.v9)((function(n){return n.infoMonths})).infoMonths),g=(0,p.Z)(s,(0,w.jsx)(v.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,b=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h().fire((0,Z.p)("Usun\u0105\u0107 miesi\u0105c?")).then(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var s,a,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=8;break}return s=n.monthDate.slice(0,4),a=n.monthDate.slice(-2),i=f.filter((function(n){return n!=="".concat(s,"-").concat(a)})),e.next=6,r({year:s,month:a});case 6:return e.next=8,u(i);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsx)(c.Z.Item,{onClick:b,className:"shadow-sm p-0 mb-2 px-1 rounded",children:(0,w.jsxs)(x.Z,{disabled:s.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 bg-white border-0 text-capitalize",children:[n.monthDateToString," ",g]})})},b=function(){var n=(0,u.Z)(),e=n.sortedInfoMonths,t=n.databaseMonthsDatesToString,r=(0,o.v9)((function(n){return n.infoMonths})).infoMonths;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h3",{className:"h6",style:{},children:"Usu\u0144 miesi\u0105c"}),(0,w.jsx)(c.Z,{className:"border-0 p-0",children:r?null===t||void 0===t?void 0:t.map((function(n,t){return(0,w.jsx)(g,{monthDateToString:n,monthDate:e[t]},n)})):(0,w.jsx)("p",{className:"py-1 px-2 text-warning",children:"Brak danych"})})]})},N=t(2677),y=t(3855),k=[{labelText:"Podaj imi\u0119",name:"userName",type:"text",placeholder:"Imi\u0119"},{labelText:"Podaj kolor",name:"userColor",type:"color",placeholder:""}],C=t(3433),T=t(1413),M=t(5705),B=t(6021),I=t(8007),D=function(){var n=(0,B.xY)().data,e=null===n||void 0===n?void 0:n.map((function(n){return n.userName})),t=null===n||void 0===n?void 0:n.map((function(n){return n.userColor}));return{validationSchema:I.Ry({userName:I.Z_().min(3,"Min. 3 litery").max(10,"Max. 10 liter").test("is-in-database","Imi\u0119 zaj\u0119te",(function(n){return void 0!==n&&!(null!==e&&void 0!==e&&e.includes(n))})).required("Imi\u0119 wymagane"),userColor:I.Z_().test("is-in-database","Kolor zaj\u0119ty",(function(n){return void 0!==n&&!(null!==t&&void 0!==t&&t.includes(n))}))})}},L=function(){var n=(0,B.Vx)(),e=(0,m.Z)(n,2),t=e[0],r=e[1],s=D().validationSchema,a=(0,B.xY)().data,i=a||[],o=(0,M.TA)({initialValues:{id:"",userName:"",userColor:"#e0cce1"},validationSchema:s,onSubmit:function(){var n=(0,d.Z)((0,l.Z)().mark((function n(e,r){var s,o;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=r.resetForm,o=(0,T.Z)((0,T.Z)({},e),{},{userName:e.userName.slice(0,1).toUpperCase()+e.userName.slice(1),id:crypto.randomUUID()}),!a){n.next=7;break}return n.next=5,t([].concat((0,C.Z)(i),[o]));case 5:n.next=9;break;case 7:return n.next=9,t([o]);case 9:s();case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()});return{formik:o,success:r}},S=function(){var n=L(),e=n.formik,t=n.success,r=(0,p.Z)(t,"Dodaj u\u017cytkowanika").btnContent;return(0,w.jsxs)(y.Z,{onSubmit:e.handleSubmit,children:[(0,w.jsx)(i.Z,{children:k.map((function(n,t){var r=n.labelText,s=n.name,a=n.type,i=n.placeholder;return(0,w.jsx)(N.Z,{className:"".concat(0===t?"col-7":"col-5"),children:(0,w.jsxs)(y.Z.Group,{className:"",children:[(0,w.jsx)(y.Z.Label,{htmlFor:s,className:"fw-medium",children:r}),(0,w.jsx)(y.Z.Control,{id:s,type:a,name:s,value:e.values[s],onChange:e.handleChange,onBlur:e.handleBlur,placeholder:i,className:"shadow-sm"}),(0,w.jsx)(y.Z.Text,{className:"text-danger d-block mt-0 mb-4 fs-8",style:{height:"0.7rem"},children:e.touched[s]&&e.errors[s]&&e.errors[s]})]})},s)}))}),(0,w.jsx)(x.Z,{disabled:t.isLoading,type:"submit",className:"col-8 col-sm-7  bg-info text-white fw-medium",children:r})]})},z=function(n){var e=(0,B.I1)(),t=(0,m.Z)(e,2),r=t[0],s=t[1],a=(0,p.Z)(s,(0,w.jsx)(v.GnT,{className:"text-danger fs-5 ms-auto"})).btnContent,i=(0,o.v9)((function(n){return n.users})).users,u=function(){var n=(0,d.Z)((0,l.Z)().mark((function n(e){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:h().fire((0,Z.p)("Usun\u0105\u0107 u\u017cytkownika?")).then(function(){var n=(0,d.Z)((0,l.Z)().mark((function n(t){var s;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isConfirmed){n.next=4;break}return s=null===i||void 0===i?void 0:i.filter((function(n){return(null===n||void 0===n?void 0:n.id)!==e})),n.next=4,r(s);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,w.jsx)(c.Z.Item,{onClick:function(){return u(n.user.id)},className:"shadow-sm p-0 mb-2 ps-2 pe-0 rounded-1",style:{backgroundColor:n.user.userColor,overflow:"hidden"},children:(0,w.jsxs)(x.Z,{disabled:s.isLoading,className:"w-100 d-flex justify-content-between align-items-center px-1 text-capitalize rounded-0 bg-white",style:{color:n.user.userColor},children:[n.user.userName,a]})})},E=function(){var n=(0,o.v9)((function(n){return n.users})).users;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h3",{className:"h6",children:"Usu\u0144 u\u017cytkownika"}),(0,w.jsx)(c.Z,{className:"border-0 p-0",children:n?null===n||void 0===n?void 0:n.map((function(n){return(0,w.jsx)(z,{user:n},n.id)})):(0,w.jsx)("p",{className:"py-1 px-2 text-warning",children:"Brak danych"})})]})},F=t(390),U=function(){var n=(0,F.lX)();return(0,w.jsxs)(x.Z,{variant:"outline-info",size:"sm",className:"d-flex align-items-center fw-middle fw-medium",onClick:function(){n.back()},children:[(0,w.jsx)(v.aIK,{className:"fs-6 me-1 fw-middle "})," Wr\xf3\u0107"]})},W=function(){var n,e=(0,o.v9)((function(n){return n.users})),t=e.usersError,r=e.usersIsLoading,s=(0,o.v9)((function(n){return n.infoMonths})),c=s.infoMonthsError,u=s.infoMonthsIsLoading;if(r||u)n=(0,w.jsx)(a.Z,{animation:"border",variant:"secondary",children:(0,w.jsx)("span",{className:"visually-hidden",children:"Loading..."})});else if(t){if("status"in t){var l="status"in t&&t.status;n=(0,w.jsx)("h3",{className:"text-danger mx-auto ",children:(0,w.jsxs)(w.Fragment,{children:[" B\u0142\u0105d: ",l," "]})})}}else if(c){if("status"in c){var d="status"in c&&c.status;n=(0,w.jsx)("h3",{className:"text-danger mx-auto ",children:(0,w.jsxs)(w.Fragment,{children:[" B\u0142\u0105d: ",d," "]})})}}else{var m="col-12 bg-white px-3",f="col-12 col-md-9 col-lg-6 col-xl-5 col-xxl-4  py-4 ps-4 ps-md-5 me-md-auto border-bottom ";n=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.Z,{className:m,children:(0,w.jsx)(N.Z,{className:f,children:(0,w.jsx)(U,{})})}),(0,w.jsx)(i.Z,{className:m,children:(0,w.jsx)(N.Z,{className:f,children:(0,w.jsx)(S,{})})}),(0,w.jsx)(i.Z,{className:m,children:(0,w.jsx)(N.Z,{className:f,children:(0,w.jsx)(E,{})})}),(0,w.jsx)(i.Z,{className:"".concat(m," flex-grow-1"),children:(0,w.jsx)(N.Z,{className:f,children:(0,w.jsx)(b,{})})})]})}return{settingsContent:n}},G=function(){var n=W().settingsContent,e=(0,s.Z)().windowWidth;return(0,w.jsx)("main",{className:"backgroundImage",style:{height:"100vh"},children:(0,w.jsx)(r.Z,{className:"d-flex align-items-center flex-column pe-0 overflow-y-scroll",style:{height:e>576?"100vh":"calc(100vh - 40px)"},children:n})})}},2767:function(n,e,t){t.d(e,{Z:function(){return i},p:function(){return a}});var r=t(1830),s=t.n(r),a=function(n){return{title:n,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Tak",cancelButtonText:"Nie"}},i=function(n){s().fire({text:"B\u0142\u0105d ".concat(n),confirmButtonColor:"rgb(31, 180, 255)"})}}}]);
//# sourceMappingURL=282.4a4123d5.chunk.js.map