"use strict";(self.webpackChunkgodziny=self.webpackChunkgodziny||[]).push([[615],{5615:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var a=r(9439),t=r(2791),i=r(7371),l=r(322),d=r(1413),o=r(4165),u=r(5861),c=r(184),s=function(e){return(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{children:e.label}),(0,c.jsx)("input",{type:e.type,name:e.name,value:e.value,onChange:e.handleChange,placeholder:e.placeholder,style:{width:50}})]})},p=function(e){return(0,c.jsxs)("div",{className:e.containerClass,children:[(0,c.jsx)("input",{type:"radio",name:e.name,value:e.value,checked:e.checked,onChange:e.handleChange,className:e.inuptClass,id:e.value}),(0,c.jsx)("label",{htmlFor:e.value,className:e.labelClass,children:(0,c.jsxs)("small",{children:[" ",e.label?e.label:e.value]})})]})},f=r(6355),h=r(3728),v=function(){var e=(0,t.useState)({hours:"",userName:"",location:""}),n=(0,a.Z)(e,2),r=n[0],i=(n[1],function(){}),l=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[[{type:"date",name:"date",label:"Dzie\u0144"},{type:"number",name:"hours",label:"Godz"},{type:"text",name:"userName",label:"Imi\u0119"}].map((function(e){var n=e.type,a=e.name,t=e.label;return(0,c.jsx)(s,{type:n,name:a,value:r[a],label:t,placeholder:t,handleChange:i},a)})),["Wewn\u0105trz","Poza"].map((function(e){return(0,c.jsx)(p,{value:e,name:"location",handleChange:i,checked:r.location===e},e)})),(0,c.jsx)("button",{children:(0,c.jsx)(h.pl2,{})})]}),(0,c.jsx)("button",{onClick:l,children:(0,c.jsx)(f.AMf,{})})]})},x=function(e){return(0,c.jsx)("div",{style:{border:"1px solid black"},children:(0,c.jsx)(i._l,{draggableId:e.day&&e.day.id.toString(),index:e.index,children:function(n){return(0,c.jsxs)("div",(0,d.Z)((0,d.Z)((0,d.Z)({},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:[(0,c.jsx)("strong",{children:e.day.content}),(0,c.jsx)(v,{})]}))}})})},m=function(e){return(0,c.jsxs)("div",{children:[(0,c.jsxs)("h4",{children:[e.column.columnName," "]}),(0,c.jsx)(i.bK,{droppableId:e.column.id,children:function(n,r){var a,t;return(0,c.jsxs)("div",(0,d.Z)((0,d.Z)({},n.droppableProps),{},{ref:n.innerRef,style:{border:"1px solid black",width:"30vw",height:"fit-content"},children:[e.column.days&&(null===(a=e.column)||void 0===a||null===(t=a.days)||void 0===t?void 0:t.map((function(e,n){return(0,c.jsx)(x,{day:e,index:n},crypto.randomUUID())}))),n.placeholder]}))}})]})},b=r(3433),y=r(5048),j=r(411),Z=function(e){for(var n=[],r=1;r<=e;r++)n.push({id:crypto.randomUUID(),content:r.toString(),userName:"",date:"",hours:0,location:""});return n},g=function(e){return null===e||void 0===e?void 0:e.map((function(e){return e.hasOwnProperty("days")?e:(0,d.Z)((0,d.Z)({},e),{},{days:[]})}))},k=[{id:"miesiac",columnName:"Miesi\u0105c",days:[]},{id:"oczekuj\u0105ce",columnName:"Oczekuj\u0105ce"},{id:"zatwierdzone",columnName:"Zatwierdzone"}],I=function(){var e,n=(0,y.I0)(),r=(0,y.v9)((function(e){return e.hoursPanel})).numberOfDays,t=(0,l.P2)(void 0),i=t.data,p=(t.error,(0,l.l4)()),f=(0,a.Z)(p,2),h=f[0],v=(f[1],(0,l.X)()),x=(0,a.Z)(v,1)[0],m=(0,l.iq)(),I=(0,a.Z)(m,2),w=I[0];I[1];k[0].days=Z(r);var C=Z(r),z=i&&Object.keys(i).join(),N=i?Object.values(i).flat():[],D=g(N),O=i?(0,b.Z)(D):[];O[0]=i&&(null===N||void 0===N?void 0:N.length)>0&&(0,d.Z)((0,d.Z)({},null===D||void 0===D?void 0:D[0]),{},{days:[].concat((0,b.Z)(null===D||void 0===D||null===(e=D[0])||void 0===e?void 0:e.days),(0,b.Z)(C))});var P=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==i){e.next=5;break}return e.next=3,h(k);case 3:e.next=7;break;case 5:return e.next=7,x({id:z,columns:O});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(z);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(i),(0,c.jsxs)("header",{children:[(0,c.jsx)(s,{type:"number",name:"numberOfDays",value:r,label:"Ilo\u015b\u0107 planowanych dni ",placeholder:"Dni",handleChange:function(e){var r=e.target.value;n((0,j.Cp)(r))}}),(0,c.jsx)("button",{onClick:P,children:"Dodaj dni"}),(0,c.jsx)("button",{onClick:S,children:" usu\u0144 wszystko"})]})},w=function(){var e=(0,l.P2)(void 0),n=e.data,r=(e.error,(0,l.iq)()),o=(0,a.Z)(r,2),u=(o[0],o[1],(0,l.X)()),s=(0,a.Z)(u,2),p=s[0],f=(s[1],n&&Object.values(n).flat()),h=g(f),v=(0,t.useState)([]),x=(0,a.Z)(v,2),y=x[0],j=x[1],Z={id:n&&Object.keys(n).join(),columns:y};return(0,t.useEffect)((function(){j(h)}),[n]),(0,t.useEffect)((function(){p(Z)}),[y]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(I,{}),(0,c.jsx)("div",{style:{display:"flex"},children:(0,c.jsx)(i.Z5,{onDragEnd:function(e){return function(e,n,r){var t=e.source,i=e.destination;if(i&&(t.draggableId!==i.droppableId||t.index===i.index))if(t.droppableId!==i.droppableId){var l=n.findIndex((function(e){return e.id===t.droppableId})),o=n.findIndex((function(e){return e.id===i.droppableId})),u=(0,b.Z)(n[l].days),c=t.droppableId!==i.dropableId?(0,b.Z)(n[o].days):u,s=u.splice(t.index,1),p=(0,a.Z)(s,1)[0];c.splice(i.index,0,p);var f=(0,b.Z)(n);f[l]=(0,d.Z)((0,d.Z)({},n[l]),{},{days:u}),f[o]=(0,d.Z)((0,d.Z)({},n[o]),{},{days:c}),r(f)}else{var h=i.index,v=n.findIndex((function(e){return e.id===t.droppableId})),x=(0,b.Z)(n[v].days),m=x.splice(t.index,1),y=(0,a.Z)(m,1)[0];x.splice(h,0,y);var j=(0,b.Z)(n);j[v]=(0,d.Z)((0,d.Z)({},n[v]),{},{days:x}),r(j)}}(e,y,j)},children:y&&y.length>0&&y.map((function(e){return(0,c.jsx)(m,{column:e},e.id)}))})})]})}}}]);
//# sourceMappingURL=615.3abc7fa6.chunk.js.map